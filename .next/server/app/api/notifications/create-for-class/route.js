/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/notifications/create-for-class/route";
exports.ids = ["app/api/notifications/create-for-class/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fnotifications%2Fcreate-for-class%2Froute&page=%2Fapi%2Fnotifications%2Fcreate-for-class%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnotifications%2Fcreate-for-class%2Froute.ts&appDir=C%3A%5CUsers%5CSQMV0257%5CsvtProject%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CSQMV0257%5CsvtProject&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fnotifications%2Fcreate-for-class%2Froute&page=%2Fapi%2Fnotifications%2Fcreate-for-class%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnotifications%2Fcreate-for-class%2Froute.ts&appDir=C%3A%5CUsers%5CSQMV0257%5CsvtProject%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CSQMV0257%5CsvtProject&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_SQMV0257_svtProject_app_api_notifications_create_for_class_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/notifications/create-for-class/route.ts */ \"(rsc)/./app/api/notifications/create-for-class/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/notifications/create-for-class/route\",\n        pathname: \"/api/notifications/create-for-class\",\n        filename: \"route\",\n        bundlePath: \"app/api/notifications/create-for-class/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\SQMV0257\\\\svtProject\\\\app\\\\api\\\\notifications\\\\create-for-class\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_SQMV0257_svtProject_app_api_notifications_create_for_class_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZub3RpZmljYXRpb25zJTJGY3JlYXRlLWZvci1jbGFzcyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGbm90aWZpY2F0aW9ucyUyRmNyZWF0ZS1mb3ItY2xhc3MlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZub3RpZmljYXRpb25zJTJGY3JlYXRlLWZvci1jbGFzcyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNTUU1WMDI1NyU1Q3N2dFByb2plY3QlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q1NRTVYwMjU3JTVDc3Z0UHJvamVjdCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDb0M7QUFDakg7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7O0FBRTFGIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXFNRTVYwMjU3XFxcXHN2dFByb2plY3RcXFxcYXBwXFxcXGFwaVxcXFxub3RpZmljYXRpb25zXFxcXGNyZWF0ZS1mb3ItY2xhc3NcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL25vdGlmaWNhdGlvbnMvY3JlYXRlLWZvci1jbGFzcy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL25vdGlmaWNhdGlvbnMvY3JlYXRlLWZvci1jbGFzc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvbm90aWZpY2F0aW9ucy9jcmVhdGUtZm9yLWNsYXNzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcU1FNVjAyNTdcXFxcc3Z0UHJvamVjdFxcXFxhcHBcXFxcYXBpXFxcXG5vdGlmaWNhdGlvbnNcXFxcY3JlYXRlLWZvci1jbGFzc1xcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fnotifications%2Fcreate-for-class%2Froute&page=%2Fapi%2Fnotifications%2Fcreate-for-class%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnotifications%2Fcreate-for-class%2Froute.ts&appDir=C%3A%5CUsers%5CSQMV0257%5CsvtProject%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CSQMV0257%5CsvtProject&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./app/api/notifications/create-for-class/route.ts":
/*!*********************************************************!*\
  !*** ./app/api/notifications/create-for-class/route.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase/server */ \"(rsc)/./lib/supabase/server.ts\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n\n\n\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const classId = typeof body?.classId === \"string\" ? body.classId : \"\";\n        const className = typeof body?.className === \"string\" ? body.className : \"\";\n        const examNames = Array.isArray(body?.examNames) ? body.examNames.filter((x)=>typeof x === \"string\") : [];\n        const userId = typeof body?.userId === \"string\" ? body.userId : \"\";\n        if (!classId || !className || !userId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"classId, className et userId requis.\"\n            }, {\n                status: 400\n            });\n        }\n        const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__.createServiceRoleClient)();\n        const profile = await (0,_lib_db__WEBPACK_IMPORTED_MODULE_2__.dbGetProfile)(supabase, userId);\n        if (!profile || ![\n            \"teacher\",\n            \"admin\"\n        ].includes(profile.role)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Non autorisé.\"\n            }, {\n                status: 403\n            });\n        }\n        await (0,_lib_db__WEBPACK_IMPORTED_MODULE_2__.dbCreateNotificationsForClass)(supabase, classId, className, examNames);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: true\n        });\n    } catch (e) {\n        console.error(\"Create notifications error:\", e);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Erreur lors de la création des notifications.\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL25vdGlmaWNhdGlvbnMvY3JlYXRlLWZvci1jbGFzcy9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXdEO0FBQ1E7QUFDTztBQUVoRSxlQUFlSSxLQUFLQyxPQUFvQjtJQUM3QyxJQUFJO1FBQ0YsTUFBTUMsT0FBTyxNQUFNRCxRQUFRRSxJQUFJO1FBQy9CLE1BQU1DLFVBQVUsT0FBT0YsTUFBTUUsWUFBWSxXQUFXRixLQUFLRSxPQUFPLEdBQUc7UUFDbkUsTUFBTUMsWUFBWSxPQUFPSCxNQUFNRyxjQUFjLFdBQVdILEtBQUtHLFNBQVMsR0FBRztRQUN6RSxNQUFNQyxZQUFZQyxNQUFNQyxPQUFPLENBQUNOLE1BQU1JLGFBQWFKLEtBQUtJLFNBQVMsQ0FBQ0csTUFBTSxDQUFDLENBQUNDLElBQWUsT0FBT0EsTUFBTSxZQUFZLEVBQUU7UUFDcEgsTUFBTUMsU0FBUyxPQUFPVCxNQUFNUyxXQUFXLFdBQVdULEtBQUtTLE1BQU0sR0FBRztRQUVoRSxJQUFJLENBQUNQLFdBQVcsQ0FBQ0MsYUFBYSxDQUFDTSxRQUFRO1lBQ3JDLE9BQU9mLHFEQUFZQSxDQUFDTyxJQUFJLENBQ3RCO2dCQUFFUyxPQUFPO1lBQXVDLEdBQ2hEO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSxNQUFNQyxXQUFXakIsNkVBQXVCQTtRQUN4QyxNQUFNa0IsVUFBVSxNQUFNaEIscURBQVlBLENBQUNlLFVBQVVIO1FBQzdDLElBQUksQ0FBQ0ksV0FBVyxDQUFDO1lBQUM7WUFBVztTQUFRLENBQUNDLFFBQVEsQ0FBQ0QsUUFBUUUsSUFBSSxHQUFHO1lBQzVELE9BQU9yQixxREFBWUEsQ0FBQ08sSUFBSSxDQUFDO2dCQUFFUyxPQUFPO1lBQWdCLEdBQUc7Z0JBQUVDLFFBQVE7WUFBSTtRQUNyRTtRQUVBLE1BQU1mLHNFQUE2QkEsQ0FBQ2dCLFVBQVVWLFNBQVNDLFdBQVdDO1FBQ2xFLE9BQU9WLHFEQUFZQSxDQUFDTyxJQUFJLENBQUM7WUFBRWUsSUFBSTtRQUFLO0lBQ3RDLEVBQUUsT0FBT0MsR0FBRztRQUNWQyxRQUFRUixLQUFLLENBQUMsK0JBQStCTztRQUM3QyxPQUFPdkIscURBQVlBLENBQUNPLElBQUksQ0FDdEI7WUFBRVMsT0FBTztRQUFnRCxHQUN6RDtZQUFFQyxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxTUU1WMDI1N1xcc3Z0UHJvamVjdFxcYXBwXFxhcGlcXG5vdGlmaWNhdGlvbnNcXGNyZWF0ZS1mb3ItY2xhc3NcXHJvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcclxuaW1wb3J0IHsgY3JlYXRlU2VydmljZVJvbGVDbGllbnQgfSBmcm9tIFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCI7XHJcbmltcG9ydCB7IGRiQ3JlYXRlTm90aWZpY2F0aW9uc0ZvckNsYXNzLCBkYkdldFByb2ZpbGUgfSBmcm9tIFwiQC9saWIvZGJcIjtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcclxuICAgIGNvbnN0IGNsYXNzSWQgPSB0eXBlb2YgYm9keT8uY2xhc3NJZCA9PT0gXCJzdHJpbmdcIiA/IGJvZHkuY2xhc3NJZCA6IFwiXCI7XHJcbiAgICBjb25zdCBjbGFzc05hbWUgPSB0eXBlb2YgYm9keT8uY2xhc3NOYW1lID09PSBcInN0cmluZ1wiID8gYm9keS5jbGFzc05hbWUgOiBcIlwiO1xyXG4gICAgY29uc3QgZXhhbU5hbWVzID0gQXJyYXkuaXNBcnJheShib2R5Py5leGFtTmFtZXMpID8gYm9keS5leGFtTmFtZXMuZmlsdGVyKCh4OiB1bmtub3duKSA9PiB0eXBlb2YgeCA9PT0gXCJzdHJpbmdcIikgOiBbXTtcclxuICAgIGNvbnN0IHVzZXJJZCA9IHR5cGVvZiBib2R5Py51c2VySWQgPT09IFwic3RyaW5nXCIgPyBib2R5LnVzZXJJZCA6IFwiXCI7XHJcblxyXG4gICAgaWYgKCFjbGFzc0lkIHx8ICFjbGFzc05hbWUgfHwgIXVzZXJJZCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogXCJjbGFzc0lkLCBjbGFzc05hbWUgZXQgdXNlcklkIHJlcXVpcy5cIiB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlU2VydmljZVJvbGVDbGllbnQoKTtcclxuICAgIGNvbnN0IHByb2ZpbGUgPSBhd2FpdCBkYkdldFByb2ZpbGUoc3VwYWJhc2UsIHVzZXJJZCk7XHJcbiAgICBpZiAoIXByb2ZpbGUgfHwgIVtcInRlYWNoZXJcIiwgXCJhZG1pblwiXS5pbmNsdWRlcyhwcm9maWxlLnJvbGUpKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIk5vbiBhdXRvcmlzw6kuXCIgfSwgeyBzdGF0dXM6IDQwMyB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhd2FpdCBkYkNyZWF0ZU5vdGlmaWNhdGlvbnNGb3JDbGFzcyhzdXBhYmFzZSwgY2xhc3NJZCwgY2xhc3NOYW1lLCBleGFtTmFtZXMpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgb2s6IHRydWUgfSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkNyZWF0ZSBub3RpZmljYXRpb25zIGVycm9yOlwiLCBlKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBlcnJvcjogXCJFcnJldXIgbG9ycyBkZSBsYSBjcsOpYXRpb24gZGVzIG5vdGlmaWNhdGlvbnMuXCIgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiY3JlYXRlU2VydmljZVJvbGVDbGllbnQiLCJkYkNyZWF0ZU5vdGlmaWNhdGlvbnNGb3JDbGFzcyIsImRiR2V0UHJvZmlsZSIsIlBPU1QiLCJyZXF1ZXN0IiwiYm9keSIsImpzb24iLCJjbGFzc0lkIiwiY2xhc3NOYW1lIiwiZXhhbU5hbWVzIiwiQXJyYXkiLCJpc0FycmF5IiwiZmlsdGVyIiwieCIsInVzZXJJZCIsImVycm9yIiwic3RhdHVzIiwic3VwYWJhc2UiLCJwcm9maWxlIiwiaW5jbHVkZXMiLCJyb2xlIiwib2siLCJlIiwiY29uc29sZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/notifications/create-for-class/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dbAddClass: () => (/* binding */ dbAddClass),\n/* harmony export */   dbAddCorrection: () => (/* binding */ dbAddCorrection),\n/* harmony export */   dbAddStudentToClass: () => (/* binding */ dbAddStudentToClass),\n/* harmony export */   dbCreateNotificationsForClass: () => (/* binding */ dbCreateNotificationsForClass),\n/* harmony export */   dbDeleteClass: () => (/* binding */ dbDeleteClass),\n/* harmony export */   dbDeleteCorrection: () => (/* binding */ dbDeleteCorrection),\n/* harmony export */   dbDeleteCorrectionFile: () => (/* binding */ dbDeleteCorrectionFile),\n/* harmony export */   dbGetClassStudents: () => (/* binding */ dbGetClassStudents),\n/* harmony export */   dbGetClasses: () => (/* binding */ dbGetClasses),\n/* harmony export */   dbGetCorrections: () => (/* binding */ dbGetCorrections),\n/* harmony export */   dbGetGradesForClass: () => (/* binding */ dbGetGradesForClass),\n/* harmony export */   dbGetGradesForStudent: () => (/* binding */ dbGetGradesForStudent),\n/* harmony export */   dbGetNotifications: () => (/* binding */ dbGetNotifications),\n/* harmony export */   dbGetProfile: () => (/* binding */ dbGetProfile),\n/* harmony export */   dbGetProfiles: () => (/* binding */ dbGetProfiles),\n/* harmony export */   dbMarkAllNotificationsRead: () => (/* binding */ dbMarkAllNotificationsRead),\n/* harmony export */   dbMarkNotificationRead: () => (/* binding */ dbMarkNotificationRead),\n/* harmony export */   dbRemoveStudentFromClass: () => (/* binding */ dbRemoveStudentFromClass),\n/* harmony export */   dbSetGradesForClass: () => (/* binding */ dbSetGradesForClass),\n/* harmony export */   dbUpdateClass: () => (/* binding */ dbUpdateClass),\n/* harmony export */   dbUpsertProfile: () => (/* binding */ dbUpsertProfile),\n/* harmony export */   getCorrectionFileUrl: () => (/* binding */ getCorrectionFileUrl)\n/* harmony export */ });\n/**\r\n * Couche données async — Supabase (remplace les appels sync de store.ts)\r\n * Les fonctions prennent le client Supabase en premier argument (client ou server).\r\n */ // ——— Classes ———\nasync function dbGetClasses(db) {\n    const { data: rows, error } = await db.from(\"classes\").select(\"id, name\").order(\"name\");\n    if (error) throw new Error(error.message);\n    const classRows = rows ?? [];\n    if (classRows.length === 0) return [];\n    const classIds = classRows.map((r)=>r.id);\n    const { data: links, error: linksError } = await db.from(\"class_students\").select(\"class_id, user_id\").in(\"class_id\", classIds);\n    if (linksError) throw new Error(linksError.message);\n    const studentIdsByClass = new Map();\n    for (const id of classIds)studentIdsByClass.set(id, []);\n    for (const l of links ?? []){\n        const list = studentIdsByClass.get(l.class_id);\n        if (list) list.push(l.user_id);\n    }\n    return classRows.map((row)=>({\n            id: row.id,\n            name: row.name,\n            studentIds: studentIdsByClass.get(row.id) ?? []\n        }));\n}\nasync function dbAddClass(db, name, createdBy) {\n    const { data, error } = await db.from(\"classes\").insert({\n        name,\n        created_by: createdBy\n    }).select(\"id, name\").single();\n    if (error) throw new Error(error.message);\n    return {\n        id: data.id,\n        name: data.name,\n        studentIds: []\n    };\n}\nasync function dbUpdateClass(db, id, name) {\n    const { error } = await db.from(\"classes\").update({\n        name\n    }).eq(\"id\", id);\n    if (error) throw new Error(error.message);\n}\nasync function dbDeleteClass(db, id) {\n    const { error } = await db.from(\"classes\").delete().eq(\"id\", id);\n    if (error) throw new Error(error.message);\n}\n// ——— Élèves par classe ———\nasync function dbGetClassStudents(db, classId) {\n    const { data, error } = await db.from(\"class_students\").select(\"user_id\").eq(\"class_id\", classId);\n    if (error) throw new Error(error.message);\n    const ids = (data ?? []).map((r)=>r.user_id);\n    if (ids.length === 0) return [];\n    const { data: profiles, error: e2 } = await db.from(\"profiles\").select(\"id, name, email\").in(\"id\", ids);\n    if (e2) throw new Error(e2.message);\n    return (profiles ?? []).map((p)=>({\n            id: p.id,\n            name: p.name,\n            email: p.email\n        }));\n}\nasync function dbAddStudentToClass(db, classId, userId) {\n    const { error } = await db.from(\"class_students\").insert({\n        class_id: classId,\n        user_id: userId\n    });\n    if (error) throw new Error(error.message);\n}\nasync function dbRemoveStudentFromClass(db, classId, userId) {\n    const { error } = await db.from(\"class_students\").delete().eq(\"class_id\", classId).eq(\"user_id\", userId);\n    if (error) throw new Error(error.message);\n}\n// ——— Notes ———\nfunction rowToGradeEntry(r) {\n    return {\n        studentId: r.student_id,\n        examName: r.exam_name,\n        note: r.note,\n        date: r.date,\n        coefficient: r.coefficient ?? undefined\n    };\n}\nasync function dbGetGradesForClass(db, classId) {\n    const { data, error } = await db.from(\"grades\").select(\"student_id, exam_name, note, date, coefficient\").eq(\"class_id\", classId);\n    if (error) throw new Error(error.message);\n    return (data ?? []).map(rowToGradeEntry);\n}\n/** Notes de l’élève (toutes classes) pour la vue élève */ async function dbGetGradesForStudent(db, studentId) {\n    const { data, error } = await db.from(\"grades\").select(\"student_id, exam_name, note, date, coefficient\").eq(\"student_id\", studentId).order(\"date\", {\n        ascending: false\n    });\n    if (error) throw new Error(error.message);\n    return (data ?? []).map(rowToGradeEntry);\n}\n/** Enregistrer toutes les notes d’une classe (upsert par student_id + exam_name) */ async function dbSetGradesForClass(db, classId, entries) {\n    if (entries.length === 0) return;\n    const toInsert = entries.map((e)=>({\n            class_id: classId,\n            student_id: e.studentId,\n            exam_name: e.examName,\n            note: e.note,\n            date: e.date,\n            coefficient: e.coefficient ?? null\n        }));\n    const { error } = await db.from(\"grades\").upsert(toInsert, {\n        onConflict: \"class_id,student_id,exam_name\"\n    });\n    if (error) throw new Error(error.message);\n}\n// ——— Corrections ———\n/** Construire l’URL publique d’un fichier dans le bucket corrections */ function getCorrectionFileUrl(filePath, supabaseUrl) {\n    return `${supabaseUrl}/storage/v1/object/public/corrections/${filePath}`;\n}\nasync function dbGetCorrections(db, options) {\n    let q = db.from(\"corrections\").select(\"id, title, class_id, file_path, file_name, uploaded_at\");\n    if (options?.classId !== undefined && options.classId !== null) {\n        q = q.eq(\"class_id\", options.classId);\n    }\n    const { data, error } = await q.order(\"uploaded_at\", {\n        ascending: false\n    });\n    if (error) throw new Error(error.message);\n    const url = \"https://ycxwrlkqfoiokmogxlfd.supabase.co\" ?? 0;\n    return (data ?? []).map((r)=>({\n            id: r.id,\n            title: r.title,\n            classId: r.class_id,\n            fileUrl: getCorrectionFileUrl(r.file_path, url),\n            filePath: r.file_path,\n            fileName: r.file_name,\n            uploadedAt: r.uploaded_at\n        }));\n}\nasync function dbAddCorrection(db, payload) {\n    const { data, error } = await db.from(\"corrections\").insert({\n        title: payload.title,\n        class_id: payload.classId,\n        file_path: payload.filePath,\n        file_name: payload.fileName,\n        uploaded_by: payload.uploadedBy\n    }).select(\"id, title, class_id, file_path, file_name, uploaded_at\").single();\n    if (error) throw new Error(error.message);\n    const baseUrl = \"https://ycxwrlkqfoiokmogxlfd.supabase.co\" ?? 0;\n    return {\n        id: data.id,\n        title: data.title,\n        classId: data.class_id,\n        fileUrl: getCorrectionFileUrl(data.file_path, baseUrl),\n        filePath: data.file_path,\n        fileName: data.file_name,\n        uploadedAt: data.uploaded_at\n    };\n}\nasync function dbDeleteCorrection(db, id) {\n    const { error } = await db.from(\"corrections\").delete().eq(\"id\", id);\n    if (error) throw new Error(error.message);\n}\n/** Supprimer le fichier du bucket Storage (à appeler avant dbDeleteCorrection si besoin) */ async function dbDeleteCorrectionFile(db, filePath) {\n    const { error } = await db.storage.from(\"corrections\").remove([\n        filePath\n    ]);\n    if (error) throw new Error(error.message);\n}\nasync function dbGetNotifications(db, userId) {\n    const { data, error } = await db.from(\"notifications\").select(\"id, user_id, title, message, read, created_at\").eq(\"user_id\", userId).order(\"created_at\", {\n        ascending: false\n    });\n    if (error) throw new Error(error.message);\n    return data ?? [];\n}\nasync function dbMarkNotificationRead(db, id) {\n    const { error } = await db.from(\"notifications\").update({\n        read: true\n    }).eq(\"id\", id);\n    if (error) throw new Error(error.message);\n}\nasync function dbMarkAllNotificationsRead(db, userId) {\n    const { error } = await db.from(\"notifications\").update({\n        read: true\n    }).eq(\"user_id\", userId);\n    if (error) throw new Error(error.message);\n}\n/** Créer une notification par élève et par examen (une par note disponible, pas un message global). */ async function dbCreateNotificationsForClass(db, classId, className, examNames) {\n    if (examNames.length === 0) return;\n    const { data: links, error: e1 } = await db.from(\"class_students\").select(\"user_id\").eq(\"class_id\", classId);\n    if (e1) throw new Error(e1.message);\n    const userIds = (links ?? []).map((r)=>r.user_id);\n    if (userIds.length === 0) return;\n    const rows = [];\n    for (const user_id of userIds){\n        for (const examName of examNames){\n            rows.push({\n                user_id,\n                title: \"Note disponible\",\n                message: `Votre note pour ${examName} (classe ${className}) est disponible.`\n            });\n        }\n    }\n    const { error: e2 } = await db.from(\"notifications\").insert(rows);\n    if (e2) throw new Error(e2.message);\n}\nconst PROFILES_SELECT = \"id, name, email, role, must_change_password\";\nconst PROFILES_SELECT_LEGACY = \"id, name, email, role\";\nfunction isMissingColumnError(err) {\n    const m = err?.message ?? \"\";\n    return m.includes(\"must_change_password\") || m.includes(\"column\") && m.includes(\"does not exist\");\n}\nasync function dbGetProfiles(db, role) {\n    let q = db.from(\"profiles\").select(PROFILES_SELECT);\n    if (role) q = q.eq(\"role\", role);\n    let { data, error } = await q.order(\"name\");\n    if (error && isMissingColumnError(error)) {\n        q = db.from(\"profiles\").select(PROFILES_SELECT_LEGACY);\n        if (role) q = q.eq(\"role\", role);\n        const fallback = await q.order(\"name\");\n        if (fallback.error) throw new Error(fallback.error.message);\n        return (fallback.data ?? []).map((r)=>({\n                ...r,\n                must_change_password: false\n            }));\n    }\n    if (error) throw new Error(error.message);\n    return (data ?? []).map((r)=>({\n            ...r,\n            must_change_password: r.must_change_password ?? false\n        }));\n}\nasync function dbGetProfile(db, userId) {\n    let { data, error } = await db.from(\"profiles\").select(PROFILES_SELECT).eq(\"id\", userId).single();\n    if (error && isMissingColumnError(error)) {\n        const fallback = await db.from(\"profiles\").select(PROFILES_SELECT_LEGACY).eq(\"id\", userId).single();\n        if (fallback.error && fallback.error.code !== \"PGRST116\") throw new Error(fallback.error.message);\n        if (!fallback.data) return null;\n        return {\n            ...fallback.data,\n            must_change_password: false\n        };\n    }\n    if (error && error.code !== \"PGRST116\") throw new Error(error.message);\n    if (!data) return null;\n    return {\n        ...data,\n        must_change_password: data.must_change_password ?? false\n    };\n}\nasync function dbUpsertProfile(db, payload) {\n    const { error } = await db.from(\"profiles\").upsert(payload, {\n        onConflict: \"id\"\n    });\n    if (error && isMissingColumnError(error)) {\n        const { id, name, email, role } = payload;\n        const { error: err2 } = await db.from(\"profiles\").upsert({\n            id,\n            name,\n            email,\n            role\n        }, {\n            onConflict: \"id\"\n        });\n        if (err2) throw new Error(err2.message);\n        return;\n    }\n    if (error) throw new Error(error.message);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Q0FHQyxHQVFELGtCQUFrQjtBQUVYLGVBQWVBLGFBQWFDLEVBQU07SUFDdkMsTUFBTSxFQUFFQyxNQUFNQyxJQUFJLEVBQUVDLEtBQUssRUFBRSxHQUFHLE1BQU1ILEdBQUdJLElBQUksQ0FBQyxXQUFXQyxNQUFNLENBQUMsWUFBWUMsS0FBSyxDQUFDO0lBQ2hGLElBQUlILE9BQU8sTUFBTSxJQUFJSSxNQUFNSixNQUFNSyxPQUFPO0lBQ3hDLE1BQU1DLFlBQVlQLFFBQVEsRUFBRTtJQUM1QixJQUFJTyxVQUFVQyxNQUFNLEtBQUssR0FBRyxPQUFPLEVBQUU7SUFFckMsTUFBTUMsV0FBV0YsVUFBVUcsR0FBRyxDQUFDLENBQUNDLElBQU1BLEVBQUVDLEVBQUU7SUFDMUMsTUFBTSxFQUFFYixNQUFNYyxLQUFLLEVBQUVaLE9BQU9hLFVBQVUsRUFBRSxHQUFHLE1BQU1oQixHQUM5Q0ksSUFBSSxDQUFDLGtCQUNMQyxNQUFNLENBQUMscUJBQ1BZLEVBQUUsQ0FBQyxZQUFZTjtJQUNsQixJQUFJSyxZQUFZLE1BQU0sSUFBSVQsTUFBTVMsV0FBV1IsT0FBTztJQUVsRCxNQUFNVSxvQkFBb0IsSUFBSUM7SUFDOUIsS0FBSyxNQUFNTCxNQUFNSCxTQUFVTyxrQkFBa0JFLEdBQUcsQ0FBQ04sSUFBSSxFQUFFO0lBQ3ZELEtBQUssTUFBTU8sS0FBS04sU0FBUyxFQUFFLENBQUU7UUFDM0IsTUFBTU8sT0FBT0osa0JBQWtCSyxHQUFHLENBQUNGLEVBQUVHLFFBQVE7UUFDN0MsSUFBSUYsTUFBTUEsS0FBS0csSUFBSSxDQUFDSixFQUFFSyxPQUFPO0lBQy9CO0lBRUEsT0FBT2pCLFVBQVVHLEdBQUcsQ0FBQyxDQUFDZSxNQUFTO1lBQzdCYixJQUFJYSxJQUFJYixFQUFFO1lBQ1ZjLE1BQU1ELElBQUlDLElBQUk7WUFDZEMsWUFBWVgsa0JBQWtCSyxHQUFHLENBQUNJLElBQUliLEVBQUUsS0FBSyxFQUFFO1FBQ2pEO0FBQ0Y7QUFFTyxlQUFlZ0IsV0FBVzlCLEVBQU0sRUFBRTRCLElBQVksRUFBRUcsU0FBaUI7SUFDdEUsTUFBTSxFQUFFOUIsSUFBSSxFQUFFRSxLQUFLLEVBQUUsR0FBRyxNQUFNSCxHQUFHSSxJQUFJLENBQUMsV0FBVzRCLE1BQU0sQ0FBQztRQUFFSjtRQUFNSyxZQUFZRjtJQUFVLEdBQUcxQixNQUFNLENBQUMsWUFBWTZCLE1BQU07SUFDbEgsSUFBSS9CLE9BQU8sTUFBTSxJQUFJSSxNQUFNSixNQUFNSyxPQUFPO0lBQ3hDLE9BQU87UUFBRU0sSUFBSWIsS0FBS2EsRUFBRTtRQUFFYyxNQUFNM0IsS0FBSzJCLElBQUk7UUFBRUMsWUFBWSxFQUFFO0lBQUM7QUFDeEQ7QUFFTyxlQUFlTSxjQUFjbkMsRUFBTSxFQUFFYyxFQUFVLEVBQUVjLElBQVk7SUFDbEUsTUFBTSxFQUFFekIsS0FBSyxFQUFFLEdBQUcsTUFBTUgsR0FBR0ksSUFBSSxDQUFDLFdBQVdnQyxNQUFNLENBQUM7UUFBRVI7SUFBSyxHQUFHUyxFQUFFLENBQUMsTUFBTXZCO0lBQ3JFLElBQUlYLE9BQU8sTUFBTSxJQUFJSSxNQUFNSixNQUFNSyxPQUFPO0FBQzFDO0FBRU8sZUFBZThCLGNBQWN0QyxFQUFNLEVBQUVjLEVBQVU7SUFDcEQsTUFBTSxFQUFFWCxLQUFLLEVBQUUsR0FBRyxNQUFNSCxHQUFHSSxJQUFJLENBQUMsV0FBV21DLE1BQU0sR0FBR0YsRUFBRSxDQUFDLE1BQU12QjtJQUM3RCxJQUFJWCxPQUFPLE1BQU0sSUFBSUksTUFBTUosTUFBTUssT0FBTztBQUMxQztBQUVBLDRCQUE0QjtBQUVyQixlQUFlZ0MsbUJBQW1CeEMsRUFBTSxFQUFFeUMsT0FBZTtJQUM5RCxNQUFNLEVBQUV4QyxJQUFJLEVBQUVFLEtBQUssRUFBRSxHQUFHLE1BQU1ILEdBQzNCSSxJQUFJLENBQUMsa0JBQ0xDLE1BQU0sQ0FBQyxXQUNQZ0MsRUFBRSxDQUFDLFlBQVlJO0lBQ2xCLElBQUl0QyxPQUFPLE1BQU0sSUFBSUksTUFBTUosTUFBTUssT0FBTztJQUN4QyxNQUFNa0MsTUFBTSxDQUFDekMsUUFBUSxFQUFFLEVBQUVXLEdBQUcsQ0FBQyxDQUFDQyxJQUFNQSxFQUFFYSxPQUFPO0lBQzdDLElBQUlnQixJQUFJaEMsTUFBTSxLQUFLLEdBQUcsT0FBTyxFQUFFO0lBQy9CLE1BQU0sRUFBRVQsTUFBTTBDLFFBQVEsRUFBRXhDLE9BQU95QyxFQUFFLEVBQUUsR0FBRyxNQUFNNUMsR0FBR0ksSUFBSSxDQUFDLFlBQVlDLE1BQU0sQ0FBQyxtQkFBbUJZLEVBQUUsQ0FBQyxNQUFNeUI7SUFDbkcsSUFBSUUsSUFBSSxNQUFNLElBQUlyQyxNQUFNcUMsR0FBR3BDLE9BQU87SUFDbEMsT0FBTyxDQUFDbUMsWUFBWSxFQUFFLEVBQUUvQixHQUFHLENBQUMsQ0FBQ2lDLElBQU87WUFBRS9CLElBQUkrQixFQUFFL0IsRUFBRTtZQUFFYyxNQUFNaUIsRUFBRWpCLElBQUk7WUFBRWtCLE9BQU9ELEVBQUVDLEtBQUs7UUFBQztBQUMvRTtBQUVPLGVBQWVDLG9CQUFvQi9DLEVBQU0sRUFBRXlDLE9BQWUsRUFBRU8sTUFBYztJQUMvRSxNQUFNLEVBQUU3QyxLQUFLLEVBQUUsR0FBRyxNQUFNSCxHQUFHSSxJQUFJLENBQUMsa0JBQWtCNEIsTUFBTSxDQUFDO1FBQUVSLFVBQVVpQjtRQUFTZixTQUFTc0I7SUFBTztJQUM5RixJQUFJN0MsT0FBTyxNQUFNLElBQUlJLE1BQU1KLE1BQU1LLE9BQU87QUFDMUM7QUFFTyxlQUFleUMseUJBQXlCakQsRUFBTSxFQUFFeUMsT0FBZSxFQUFFTyxNQUFjO0lBQ3BGLE1BQU0sRUFBRTdDLEtBQUssRUFBRSxHQUFHLE1BQU1ILEdBQUdJLElBQUksQ0FBQyxrQkFBa0JtQyxNQUFNLEdBQUdGLEVBQUUsQ0FBQyxZQUFZSSxTQUFTSixFQUFFLENBQUMsV0FBV1c7SUFDakcsSUFBSTdDLE9BQU8sTUFBTSxJQUFJSSxNQUFNSixNQUFNSyxPQUFPO0FBQzFDO0FBRUEsZ0JBQWdCO0FBRWhCLFNBQVMwQyxnQkFBZ0JyQyxDQUFvRztJQUMzSCxPQUFPO1FBQ0xzQyxXQUFXdEMsRUFBRXVDLFVBQVU7UUFDdkJDLFVBQVV4QyxFQUFFeUMsU0FBUztRQUNyQkMsTUFBTTFDLEVBQUUwQyxJQUFJO1FBQ1pDLE1BQU0zQyxFQUFFMkMsSUFBSTtRQUNaQyxhQUFhNUMsRUFBRTRDLFdBQVcsSUFBSUM7SUFDaEM7QUFDRjtBQUVPLGVBQWVDLG9CQUFvQjNELEVBQU0sRUFBRXlDLE9BQWU7SUFDL0QsTUFBTSxFQUFFeEMsSUFBSSxFQUFFRSxLQUFLLEVBQUUsR0FBRyxNQUFNSCxHQUMzQkksSUFBSSxDQUFDLFVBQ0xDLE1BQU0sQ0FBQyxrREFDUGdDLEVBQUUsQ0FBQyxZQUFZSTtJQUNsQixJQUFJdEMsT0FBTyxNQUFNLElBQUlJLE1BQU1KLE1BQU1LLE9BQU87SUFDeEMsT0FBTyxDQUFDUCxRQUFRLEVBQUUsRUFBRVcsR0FBRyxDQUFDc0M7QUFDMUI7QUFFQSx3REFBd0QsR0FDakQsZUFBZVUsc0JBQXNCNUQsRUFBTSxFQUFFbUQsU0FBaUI7SUFDbkUsTUFBTSxFQUFFbEQsSUFBSSxFQUFFRSxLQUFLLEVBQUUsR0FBRyxNQUFNSCxHQUMzQkksSUFBSSxDQUFDLFVBQ0xDLE1BQU0sQ0FBQyxrREFDUGdDLEVBQUUsQ0FBQyxjQUFjYyxXQUNqQjdDLEtBQUssQ0FBQyxRQUFRO1FBQUV1RCxXQUFXO0lBQU07SUFDcEMsSUFBSTFELE9BQU8sTUFBTSxJQUFJSSxNQUFNSixNQUFNSyxPQUFPO0lBQ3hDLE9BQU8sQ0FBQ1AsUUFBUSxFQUFFLEVBQUVXLEdBQUcsQ0FBQ3NDO0FBQzFCO0FBRUEsa0ZBQWtGLEdBQzNFLGVBQWVZLG9CQUFvQjlELEVBQU0sRUFBRXlDLE9BQWUsRUFBRXNCLE9BQXFCO0lBQ3RGLElBQUlBLFFBQVFyRCxNQUFNLEtBQUssR0FBRztJQUMxQixNQUFNc0QsV0FBV0QsUUFBUW5ELEdBQUcsQ0FBQyxDQUFDcUQsSUFBTztZQUNuQ3pDLFVBQVVpQjtZQUNWVyxZQUFZYSxFQUFFZCxTQUFTO1lBQ3ZCRyxXQUFXVyxFQUFFWixRQUFRO1lBQ3JCRSxNQUFNVSxFQUFFVixJQUFJO1lBQ1pDLE1BQU1TLEVBQUVULElBQUk7WUFDWkMsYUFBYVEsRUFBRVIsV0FBVyxJQUFJO1FBQ2hDO0lBQ0EsTUFBTSxFQUFFdEQsS0FBSyxFQUFFLEdBQUcsTUFBTUgsR0FBR0ksSUFBSSxDQUFDLFVBQVU4RCxNQUFNLENBQUNGLFVBQVU7UUFDekRHLFlBQVk7SUFDZDtJQUNBLElBQUloRSxPQUFPLE1BQU0sSUFBSUksTUFBTUosTUFBTUssT0FBTztBQUMxQztBQUVBLHNCQUFzQjtBQUV0QixzRUFBc0UsR0FDL0QsU0FBUzRELHFCQUFxQkMsUUFBZ0IsRUFBRUMsV0FBbUI7SUFDeEUsT0FBTyxHQUFHQSxZQUFZLHNDQUFzQyxFQUFFRCxVQUFVO0FBQzFFO0FBRU8sZUFBZUUsaUJBQWlCdkUsRUFBTSxFQUFFd0UsT0FBcUM7SUFDbEYsSUFBSUMsSUFBSXpFLEdBQUdJLElBQUksQ0FBQyxlQUFlQyxNQUFNLENBQUM7SUFDdEMsSUFBSW1FLFNBQVMvQixZQUFZaUIsYUFBYWMsUUFBUS9CLE9BQU8sS0FBSyxNQUFNO1FBQzlEZ0MsSUFBSUEsRUFBRXBDLEVBQUUsQ0FBQyxZQUFZbUMsUUFBUS9CLE9BQU87SUFDdEM7SUFDQSxNQUFNLEVBQUV4QyxJQUFJLEVBQUVFLEtBQUssRUFBRSxHQUFHLE1BQU1zRSxFQUFFbkUsS0FBSyxDQUFDLGVBQWU7UUFBRXVELFdBQVc7SUFBTTtJQUN4RSxJQUFJMUQsT0FBTyxNQUFNLElBQUlJLE1BQU1KLE1BQU1LLE9BQU87SUFDeEMsTUFBTWtFLE1BQU1DLDBDQUFvQyxJQUFJLENBQUU7SUFDdEQsT0FBTyxDQUFDMUUsUUFBUSxFQUFFLEVBQUVXLEdBQUcsQ0FBQyxDQUFDQyxJQUFPO1lBQzlCQyxJQUFJRCxFQUFFQyxFQUFFO1lBQ1JnRSxPQUFPakUsRUFBRWlFLEtBQUs7WUFDZHJDLFNBQVM1QixFQUFFVyxRQUFRO1lBQ25CdUQsU0FBU1gscUJBQXFCdkQsRUFBRW1FLFNBQVMsRUFBRU47WUFDM0NMLFVBQVV4RCxFQUFFbUUsU0FBUztZQUNyQkMsVUFBVXBFLEVBQUVxRSxTQUFTO1lBQ3JCQyxZQUFZdEUsRUFBRXVFLFdBQVc7UUFDM0I7QUFDRjtBQUVPLGVBQWVDLGdCQUNwQnJGLEVBQU0sRUFDTnNGLE9BQTBHO0lBRTFHLE1BQU0sRUFBRXJGLElBQUksRUFBRUUsS0FBSyxFQUFFLEdBQUcsTUFBTUgsR0FDM0JJLElBQUksQ0FBQyxlQUNMNEIsTUFBTSxDQUFDO1FBQ044QyxPQUFPUSxRQUFRUixLQUFLO1FBQ3BCdEQsVUFBVThELFFBQVE3QyxPQUFPO1FBQ3pCdUMsV0FBV00sUUFBUWpCLFFBQVE7UUFDM0JhLFdBQVdJLFFBQVFMLFFBQVE7UUFDM0JNLGFBQWFELFFBQVFFLFVBQVU7SUFDakMsR0FDQ25GLE1BQU0sQ0FBQywwREFDUDZCLE1BQU07SUFDVCxJQUFJL0IsT0FBTyxNQUFNLElBQUlJLE1BQU1KLE1BQU1LLE9BQU87SUFDeEMsTUFBTWlGLFVBQVVkLDBDQUFvQyxJQUFJLENBQUU7SUFDMUQsT0FBTztRQUNMN0QsSUFBSWIsS0FBS2EsRUFBRTtRQUNYZ0UsT0FBTzdFLEtBQUs2RSxLQUFLO1FBQ2pCckMsU0FBU3hDLEtBQUt1QixRQUFRO1FBQ3RCdUQsU0FBU1gscUJBQXFCbkUsS0FBSytFLFNBQVMsRUFBRVM7UUFDOUNwQixVQUFVcEUsS0FBSytFLFNBQVM7UUFDeEJDLFVBQVVoRixLQUFLaUYsU0FBUztRQUN4QkMsWUFBWWxGLEtBQUttRixXQUFXO0lBQzlCO0FBQ0Y7QUFFTyxlQUFlTSxtQkFBbUIxRixFQUFNLEVBQUVjLEVBQVU7SUFDekQsTUFBTSxFQUFFWCxLQUFLLEVBQUUsR0FBRyxNQUFNSCxHQUFHSSxJQUFJLENBQUMsZUFBZW1DLE1BQU0sR0FBR0YsRUFBRSxDQUFDLE1BQU12QjtJQUNqRSxJQUFJWCxPQUFPLE1BQU0sSUFBSUksTUFBTUosTUFBTUssT0FBTztBQUMxQztBQUVBLDBGQUEwRixHQUNuRixlQUFlbUYsdUJBQXVCM0YsRUFBTSxFQUFFcUUsUUFBZ0I7SUFDbkUsTUFBTSxFQUFFbEUsS0FBSyxFQUFFLEdBQUcsTUFBTUgsR0FBRzRGLE9BQU8sQ0FBQ3hGLElBQUksQ0FBQyxlQUFleUYsTUFBTSxDQUFDO1FBQUN4QjtLQUFTO0lBQ3hFLElBQUlsRSxPQUFPLE1BQU0sSUFBSUksTUFBTUosTUFBTUssT0FBTztBQUMxQztBQU1PLGVBQWVzRixtQkFBbUI5RixFQUFNLEVBQUVnRCxNQUFjO0lBQzdELE1BQU0sRUFBRS9DLElBQUksRUFBRUUsS0FBSyxFQUFFLEdBQUcsTUFBTUgsR0FDM0JJLElBQUksQ0FBQyxpQkFDTEMsTUFBTSxDQUFDLGlEQUNQZ0MsRUFBRSxDQUFDLFdBQVdXLFFBQ2QxQyxLQUFLLENBQUMsY0FBYztRQUFFdUQsV0FBVztJQUFNO0lBQzFDLElBQUkxRCxPQUFPLE1BQU0sSUFBSUksTUFBTUosTUFBTUssT0FBTztJQUN4QyxPQUFPUCxRQUFRLEVBQUU7QUFDbkI7QUFFTyxlQUFlOEYsdUJBQXVCL0YsRUFBTSxFQUFFYyxFQUFVO0lBQzdELE1BQU0sRUFBRVgsS0FBSyxFQUFFLEdBQUcsTUFBTUgsR0FBR0ksSUFBSSxDQUFDLGlCQUFpQmdDLE1BQU0sQ0FBQztRQUFFNEQsTUFBTTtJQUFLLEdBQUczRCxFQUFFLENBQUMsTUFBTXZCO0lBQ2pGLElBQUlYLE9BQU8sTUFBTSxJQUFJSSxNQUFNSixNQUFNSyxPQUFPO0FBQzFDO0FBRU8sZUFBZXlGLDJCQUEyQmpHLEVBQU0sRUFBRWdELE1BQWM7SUFDckUsTUFBTSxFQUFFN0MsS0FBSyxFQUFFLEdBQUcsTUFBTUgsR0FBR0ksSUFBSSxDQUFDLGlCQUFpQmdDLE1BQU0sQ0FBQztRQUFFNEQsTUFBTTtJQUFLLEdBQUczRCxFQUFFLENBQUMsV0FBV1c7SUFDdEYsSUFBSTdDLE9BQU8sTUFBTSxJQUFJSSxNQUFNSixNQUFNSyxPQUFPO0FBQzFDO0FBRUEscUdBQXFHLEdBQzlGLGVBQWUwRiw4QkFDcEJsRyxFQUFNLEVBQ055QyxPQUFlLEVBQ2YwRCxTQUFpQixFQUNqQkMsU0FBbUI7SUFFbkIsSUFBSUEsVUFBVTFGLE1BQU0sS0FBSyxHQUFHO0lBQzVCLE1BQU0sRUFBRVQsTUFBTWMsS0FBSyxFQUFFWixPQUFPa0csRUFBRSxFQUFFLEdBQUcsTUFBTXJHLEdBQ3RDSSxJQUFJLENBQUMsa0JBQ0xDLE1BQU0sQ0FBQyxXQUNQZ0MsRUFBRSxDQUFDLFlBQVlJO0lBQ2xCLElBQUk0RCxJQUFJLE1BQU0sSUFBSTlGLE1BQU04RixHQUFHN0YsT0FBTztJQUNsQyxNQUFNOEYsVUFBVSxDQUFDdkYsU0FBUyxFQUFFLEVBQUVILEdBQUcsQ0FBQyxDQUFDQyxJQUFNQSxFQUFFYSxPQUFPO0lBQ2xELElBQUk0RSxRQUFRNUYsTUFBTSxLQUFLLEdBQUc7SUFDMUIsTUFBTVIsT0FBOEQsRUFBRTtJQUN0RSxLQUFLLE1BQU13QixXQUFXNEUsUUFBUztRQUM3QixLQUFLLE1BQU1qRCxZQUFZK0MsVUFBVztZQUNoQ2xHLEtBQUt1QixJQUFJLENBQUM7Z0JBQ1JDO2dCQUNBb0QsT0FBTztnQkFDUHRFLFNBQVMsQ0FBQyxnQkFBZ0IsRUFBRTZDLFNBQVMsU0FBUyxFQUFFOEMsVUFBVSxpQkFBaUIsQ0FBQztZQUM5RTtRQUNGO0lBQ0Y7SUFDQSxNQUFNLEVBQUVoRyxPQUFPeUMsRUFBRSxFQUFFLEdBQUcsTUFBTTVDLEdBQUdJLElBQUksQ0FBQyxpQkFBaUI0QixNQUFNLENBQUM5QjtJQUM1RCxJQUFJMEMsSUFBSSxNQUFNLElBQUlyQyxNQUFNcUMsR0FBR3BDLE9BQU87QUFDcEM7QUFNQSxNQUFNK0Ysa0JBQWtCO0FBQ3hCLE1BQU1DLHlCQUF5QjtBQUUvQixTQUFTQyxxQkFBcUJDLEdBQXlCO0lBQ3JELE1BQU1DLElBQUlELEtBQUtsRyxXQUFXO0lBQzFCLE9BQU9tRyxFQUFFQyxRQUFRLENBQUMsMkJBQTRCRCxFQUFFQyxRQUFRLENBQUMsYUFBYUQsRUFBRUMsUUFBUSxDQUFDO0FBQ25GO0FBRU8sZUFBZUMsY0FBYzdHLEVBQU0sRUFBRThHLElBQXNDO0lBQ2hGLElBQUlyQyxJQUFJekUsR0FBR0ksSUFBSSxDQUFDLFlBQVlDLE1BQU0sQ0FBQ2tHO0lBQ25DLElBQUlPLE1BQU1yQyxJQUFJQSxFQUFFcEMsRUFBRSxDQUFDLFFBQVF5RTtJQUMzQixJQUFJLEVBQUU3RyxJQUFJLEVBQUVFLEtBQUssRUFBRSxHQUFHLE1BQU1zRSxFQUFFbkUsS0FBSyxDQUFDO0lBQ3BDLElBQUlILFNBQVNzRyxxQkFBcUJ0RyxRQUFRO1FBQ3hDc0UsSUFBSXpFLEdBQUdJLElBQUksQ0FBQyxZQUFZQyxNQUFNLENBQUNtRztRQUMvQixJQUFJTSxNQUFNckMsSUFBSUEsRUFBRXBDLEVBQUUsQ0FBQyxRQUFReUU7UUFDM0IsTUFBTUMsV0FBVyxNQUFNdEMsRUFBRW5FLEtBQUssQ0FBQztRQUMvQixJQUFJeUcsU0FBUzVHLEtBQUssRUFBRSxNQUFNLElBQUlJLE1BQU13RyxTQUFTNUcsS0FBSyxDQUFDSyxPQUFPO1FBQzFELE9BQU8sQ0FBQ3VHLFNBQVM5RyxJQUFJLElBQUksRUFBRSxFQUFFVyxHQUFHLENBQUMsQ0FBQ0MsSUFBTztnQkFBRSxHQUFHQSxDQUFDO2dCQUFFbUcsc0JBQXNCO1lBQU07SUFDL0U7SUFDQSxJQUFJN0csT0FBTyxNQUFNLElBQUlJLE1BQU1KLE1BQU1LLE9BQU87SUFDeEMsT0FBTyxDQUFDUCxRQUFRLEVBQUUsRUFBRVcsR0FBRyxDQUFDLENBQUNDLElBQU87WUFBRSxHQUFHQSxDQUFDO1lBQUVtRyxzQkFBc0IsRUFBa0JBLG9CQUFvQixJQUFJO1FBQU07QUFDaEg7QUFFTyxlQUFlQyxhQUFhakgsRUFBTSxFQUFFZ0QsTUFBYztJQUN2RCxJQUFJLEVBQUUvQyxJQUFJLEVBQUVFLEtBQUssRUFBRSxHQUFHLE1BQU1ILEdBQUdJLElBQUksQ0FBQyxZQUFZQyxNQUFNLENBQUNrRyxpQkFBaUJsRSxFQUFFLENBQUMsTUFBTVcsUUFBUWQsTUFBTTtJQUMvRixJQUFJL0IsU0FBU3NHLHFCQUFxQnRHLFFBQVE7UUFDeEMsTUFBTTRHLFdBQVcsTUFBTS9HLEdBQUdJLElBQUksQ0FBQyxZQUFZQyxNQUFNLENBQUNtRyx3QkFBd0JuRSxFQUFFLENBQUMsTUFBTVcsUUFBUWQsTUFBTTtRQUNqRyxJQUFJNkUsU0FBUzVHLEtBQUssSUFBSTRHLFNBQVM1RyxLQUFLLENBQUMrRyxJQUFJLEtBQUssWUFBWSxNQUFNLElBQUkzRyxNQUFNd0csU0FBUzVHLEtBQUssQ0FBQ0ssT0FBTztRQUNoRyxJQUFJLENBQUN1RyxTQUFTOUcsSUFBSSxFQUFFLE9BQU87UUFDM0IsT0FBTztZQUFFLEdBQUc4RyxTQUFTOUcsSUFBSTtZQUFFK0csc0JBQXNCO1FBQU07SUFDekQ7SUFDQSxJQUFJN0csU0FBU0EsTUFBTStHLElBQUksS0FBSyxZQUFZLE1BQU0sSUFBSTNHLE1BQU1KLE1BQU1LLE9BQU87SUFDckUsSUFBSSxDQUFDUCxNQUFNLE9BQU87SUFDbEIsT0FBTztRQUFFLEdBQUdBLElBQUk7UUFBRStHLHNCQUFzQi9HLEtBQUsrRyxvQkFBb0IsSUFBSTtJQUFNO0FBQzdFO0FBRU8sZUFBZUcsZ0JBQ3BCbkgsRUFBTSxFQUNOc0YsT0FBMkg7SUFFM0gsTUFBTSxFQUFFbkYsS0FBSyxFQUFFLEdBQUcsTUFBTUgsR0FBR0ksSUFBSSxDQUFDLFlBQVk4RCxNQUFNLENBQUNvQixTQUFTO1FBQUVuQixZQUFZO0lBQUs7SUFDL0UsSUFBSWhFLFNBQVNzRyxxQkFBcUJ0RyxRQUFRO1FBQ3hDLE1BQU0sRUFBRVcsRUFBRSxFQUFFYyxJQUFJLEVBQUVrQixLQUFLLEVBQUVnRSxJQUFJLEVBQUUsR0FBR3hCO1FBQ2xDLE1BQU0sRUFBRW5GLE9BQU9pSCxJQUFJLEVBQUUsR0FBRyxNQUFNcEgsR0FBR0ksSUFBSSxDQUFDLFlBQVk4RCxNQUFNLENBQUM7WUFBRXBEO1lBQUljO1lBQU1rQjtZQUFPZ0U7UUFBSyxHQUFHO1lBQUUzQyxZQUFZO1FBQUs7UUFDdkcsSUFBSWlELE1BQU0sTUFBTSxJQUFJN0csTUFBTTZHLEtBQUs1RyxPQUFPO1FBQ3RDO0lBQ0Y7SUFDQSxJQUFJTCxPQUFPLE1BQU0sSUFBSUksTUFBTUosTUFBTUssT0FBTztBQUMxQyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxTUU1WMDI1N1xcc3Z0UHJvamVjdFxcbGliXFxkYi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ291Y2hlIGRvbm7DqWVzIGFzeW5jIOKAlCBTdXBhYmFzZSAocmVtcGxhY2UgbGVzIGFwcGVscyBzeW5jIGRlIHN0b3JlLnRzKVxyXG4gKiBMZXMgZm9uY3Rpb25zIHByZW5uZW50IGxlIGNsaWVudCBTdXBhYmFzZSBlbiBwcmVtaWVyIGFyZ3VtZW50IChjbGllbnQgb3Ugc2VydmVyKS5cclxuICovXHJcblxyXG5pbXBvcnQgdHlwZSB7IFN1cGFiYXNlQ2xpZW50IH0gZnJvbSBcIkBzdXBhYmFzZS9zdXBhYmFzZS1qc1wiO1xyXG5pbXBvcnQgdHlwZSB7IERhdGFiYXNlIH0gZnJvbSBcIi4vc3VwYWJhc2UvdHlwZXNcIjtcclxuaW1wb3J0IHR5cGUgeyBDbGFzc0l0ZW0sIEdyYWRlRW50cnksIENvcnJlY3Rpb25JdGVtIH0gZnJvbSBcIi4vc3RvcmVcIjtcclxuXHJcbnR5cGUgRGIgPSBTdXBhYmFzZUNsaWVudDxEYXRhYmFzZT47XHJcblxyXG4vLyDigJTigJTigJQgQ2xhc3NlcyDigJTigJTigJRcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkYkdldENsYXNzZXMoZGI6IERiKTogUHJvbWlzZTxDbGFzc0l0ZW1bXT4ge1xyXG4gIGNvbnN0IHsgZGF0YTogcm93cywgZXJyb3IgfSA9IGF3YWl0IGRiLmZyb20oXCJjbGFzc2VzXCIpLnNlbGVjdChcImlkLCBuYW1lXCIpLm9yZGVyKFwibmFtZVwiKTtcclxuICBpZiAoZXJyb3IpIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlKTtcclxuICBjb25zdCBjbGFzc1Jvd3MgPSByb3dzID8/IFtdO1xyXG4gIGlmIChjbGFzc1Jvd3MubGVuZ3RoID09PSAwKSByZXR1cm4gW107XHJcblxyXG4gIGNvbnN0IGNsYXNzSWRzID0gY2xhc3NSb3dzLm1hcCgocikgPT4gci5pZCk7XHJcbiAgY29uc3QgeyBkYXRhOiBsaW5rcywgZXJyb3I6IGxpbmtzRXJyb3IgfSA9IGF3YWl0IGRiXHJcbiAgICAuZnJvbShcImNsYXNzX3N0dWRlbnRzXCIpXHJcbiAgICAuc2VsZWN0KFwiY2xhc3NfaWQsIHVzZXJfaWRcIilcclxuICAgIC5pbihcImNsYXNzX2lkXCIsIGNsYXNzSWRzKTtcclxuICBpZiAobGlua3NFcnJvcikgdGhyb3cgbmV3IEVycm9yKGxpbmtzRXJyb3IubWVzc2FnZSk7XHJcblxyXG4gIGNvbnN0IHN0dWRlbnRJZHNCeUNsYXNzID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZ1tdPigpO1xyXG4gIGZvciAoY29uc3QgaWQgb2YgY2xhc3NJZHMpIHN0dWRlbnRJZHNCeUNsYXNzLnNldChpZCwgW10pO1xyXG4gIGZvciAoY29uc3QgbCBvZiBsaW5rcyA/PyBbXSkge1xyXG4gICAgY29uc3QgbGlzdCA9IHN0dWRlbnRJZHNCeUNsYXNzLmdldChsLmNsYXNzX2lkKTtcclxuICAgIGlmIChsaXN0KSBsaXN0LnB1c2gobC51c2VyX2lkKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBjbGFzc1Jvd3MubWFwKChyb3cpID0+ICh7XHJcbiAgICBpZDogcm93LmlkLFxyXG4gICAgbmFtZTogcm93Lm5hbWUsXHJcbiAgICBzdHVkZW50SWRzOiBzdHVkZW50SWRzQnlDbGFzcy5nZXQocm93LmlkKSA/PyBbXSxcclxuICB9KSk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkYkFkZENsYXNzKGRiOiBEYiwgbmFtZTogc3RyaW5nLCBjcmVhdGVkQnk6IHN0cmluZyk6IFByb21pc2U8Q2xhc3NJdGVtPiB7XHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgZGIuZnJvbShcImNsYXNzZXNcIikuaW5zZXJ0KHsgbmFtZSwgY3JlYXRlZF9ieTogY3JlYXRlZEJ5IH0pLnNlbGVjdChcImlkLCBuYW1lXCIpLnNpbmdsZSgpO1xyXG4gIGlmIChlcnJvcikgdGhyb3cgbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UpO1xyXG4gIHJldHVybiB7IGlkOiBkYXRhLmlkLCBuYW1lOiBkYXRhLm5hbWUsIHN0dWRlbnRJZHM6IFtdIH07XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkYlVwZGF0ZUNsYXNzKGRiOiBEYiwgaWQ6IHN0cmluZywgbmFtZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgZGIuZnJvbShcImNsYXNzZXNcIikudXBkYXRlKHsgbmFtZSB9KS5lcShcImlkXCIsIGlkKTtcclxuICBpZiAoZXJyb3IpIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRiRGVsZXRlQ2xhc3MoZGI6IERiLCBpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgZGIuZnJvbShcImNsYXNzZXNcIikuZGVsZXRlKCkuZXEoXCJpZFwiLCBpZCk7XHJcbiAgaWYgKGVycm9yKSB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSk7XHJcbn1cclxuXHJcbi8vIOKAlOKAlOKAlCDDiWzDqHZlcyBwYXIgY2xhc3NlIOKAlOKAlOKAlFxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRiR2V0Q2xhc3NTdHVkZW50cyhkYjogRGIsIGNsYXNzSWQ6IHN0cmluZyk6IFByb21pc2U8eyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IGVtYWlsOiBzdHJpbmcgfVtdPiB7XHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgZGJcclxuICAgIC5mcm9tKFwiY2xhc3Nfc3R1ZGVudHNcIilcclxuICAgIC5zZWxlY3QoXCJ1c2VyX2lkXCIpXHJcbiAgICAuZXEoXCJjbGFzc19pZFwiLCBjbGFzc0lkKTtcclxuICBpZiAoZXJyb3IpIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlKTtcclxuICBjb25zdCBpZHMgPSAoZGF0YSA/PyBbXSkubWFwKChyKSA9PiByLnVzZXJfaWQpO1xyXG4gIGlmIChpZHMubGVuZ3RoID09PSAwKSByZXR1cm4gW107XHJcbiAgY29uc3QgeyBkYXRhOiBwcm9maWxlcywgZXJyb3I6IGUyIH0gPSBhd2FpdCBkYi5mcm9tKFwicHJvZmlsZXNcIikuc2VsZWN0KFwiaWQsIG5hbWUsIGVtYWlsXCIpLmluKFwiaWRcIiwgaWRzKTtcclxuICBpZiAoZTIpIHRocm93IG5ldyBFcnJvcihlMi5tZXNzYWdlKTtcclxuICByZXR1cm4gKHByb2ZpbGVzID8/IFtdKS5tYXAoKHApID0+ICh7IGlkOiBwLmlkLCBuYW1lOiBwLm5hbWUsIGVtYWlsOiBwLmVtYWlsIH0pKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRiQWRkU3R1ZGVudFRvQ2xhc3MoZGI6IERiLCBjbGFzc0lkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgZGIuZnJvbShcImNsYXNzX3N0dWRlbnRzXCIpLmluc2VydCh7IGNsYXNzX2lkOiBjbGFzc0lkLCB1c2VyX2lkOiB1c2VySWQgfSk7XHJcbiAgaWYgKGVycm9yKSB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkYlJlbW92ZVN0dWRlbnRGcm9tQ2xhc3MoZGI6IERiLCBjbGFzc0lkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgZGIuZnJvbShcImNsYXNzX3N0dWRlbnRzXCIpLmRlbGV0ZSgpLmVxKFwiY2xhc3NfaWRcIiwgY2xhc3NJZCkuZXEoXCJ1c2VyX2lkXCIsIHVzZXJJZCk7XHJcbiAgaWYgKGVycm9yKSB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSk7XHJcbn1cclxuXHJcbi8vIOKAlOKAlOKAlCBOb3RlcyDigJTigJTigJRcclxuXHJcbmZ1bmN0aW9uIHJvd1RvR3JhZGVFbnRyeShyOiB7IHN0dWRlbnRfaWQ6IHN0cmluZzsgZXhhbV9uYW1lOiBzdHJpbmc7IG5vdGU6IG51bWJlcjsgZGF0ZTogc3RyaW5nOyBjb2VmZmljaWVudDogbnVtYmVyIHwgbnVsbCB9KTogR3JhZGVFbnRyeSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHN0dWRlbnRJZDogci5zdHVkZW50X2lkLFxyXG4gICAgZXhhbU5hbWU6IHIuZXhhbV9uYW1lLFxyXG4gICAgbm90ZTogci5ub3RlLFxyXG4gICAgZGF0ZTogci5kYXRlLFxyXG4gICAgY29lZmZpY2llbnQ6IHIuY29lZmZpY2llbnQgPz8gdW5kZWZpbmVkLFxyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkYkdldEdyYWRlc0ZvckNsYXNzKGRiOiBEYiwgY2xhc3NJZDogc3RyaW5nKTogUHJvbWlzZTxHcmFkZUVudHJ5W10+IHtcclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBkYlxyXG4gICAgLmZyb20oXCJncmFkZXNcIilcclxuICAgIC5zZWxlY3QoXCJzdHVkZW50X2lkLCBleGFtX25hbWUsIG5vdGUsIGRhdGUsIGNvZWZmaWNpZW50XCIpXHJcbiAgICAuZXEoXCJjbGFzc19pZFwiLCBjbGFzc0lkKTtcclxuICBpZiAoZXJyb3IpIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlKTtcclxuICByZXR1cm4gKGRhdGEgPz8gW10pLm1hcChyb3dUb0dyYWRlRW50cnkpO1xyXG59XHJcblxyXG4vKiogTm90ZXMgZGUgbOKAmcOpbMOodmUgKHRvdXRlcyBjbGFzc2VzKSBwb3VyIGxhIHZ1ZSDDqWzDqHZlICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkYkdldEdyYWRlc0ZvclN0dWRlbnQoZGI6IERiLCBzdHVkZW50SWQ6IHN0cmluZyk6IFByb21pc2U8R3JhZGVFbnRyeVtdPiB7XHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgZGJcclxuICAgIC5mcm9tKFwiZ3JhZGVzXCIpXHJcbiAgICAuc2VsZWN0KFwic3R1ZGVudF9pZCwgZXhhbV9uYW1lLCBub3RlLCBkYXRlLCBjb2VmZmljaWVudFwiKVxyXG4gICAgLmVxKFwic3R1ZGVudF9pZFwiLCBzdHVkZW50SWQpXHJcbiAgICAub3JkZXIoXCJkYXRlXCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcclxuICBpZiAoZXJyb3IpIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlKTtcclxuICByZXR1cm4gKGRhdGEgPz8gW10pLm1hcChyb3dUb0dyYWRlRW50cnkpO1xyXG59XHJcblxyXG4vKiogRW5yZWdpc3RyZXIgdG91dGVzIGxlcyBub3RlcyBk4oCZdW5lIGNsYXNzZSAodXBzZXJ0IHBhciBzdHVkZW50X2lkICsgZXhhbV9uYW1lKSAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGJTZXRHcmFkZXNGb3JDbGFzcyhkYjogRGIsIGNsYXNzSWQ6IHN0cmluZywgZW50cmllczogR3JhZGVFbnRyeVtdKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgaWYgKGVudHJpZXMubGVuZ3RoID09PSAwKSByZXR1cm47XHJcbiAgY29uc3QgdG9JbnNlcnQgPSBlbnRyaWVzLm1hcCgoZSkgPT4gKHtcclxuICAgIGNsYXNzX2lkOiBjbGFzc0lkLFxyXG4gICAgc3R1ZGVudF9pZDogZS5zdHVkZW50SWQsXHJcbiAgICBleGFtX25hbWU6IGUuZXhhbU5hbWUsXHJcbiAgICBub3RlOiBlLm5vdGUsXHJcbiAgICBkYXRlOiBlLmRhdGUsXHJcbiAgICBjb2VmZmljaWVudDogZS5jb2VmZmljaWVudCA/PyBudWxsLFxyXG4gIH0pKTtcclxuICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBkYi5mcm9tKFwiZ3JhZGVzXCIpLnVwc2VydCh0b0luc2VydCwge1xyXG4gICAgb25Db25mbGljdDogXCJjbGFzc19pZCxzdHVkZW50X2lkLGV4YW1fbmFtZVwiLFxyXG4gIH0pO1xyXG4gIGlmIChlcnJvcikgdGhyb3cgbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UpO1xyXG59XHJcblxyXG4vLyDigJTigJTigJQgQ29ycmVjdGlvbnMg4oCU4oCU4oCUXHJcblxyXG4vKiogQ29uc3RydWlyZSBs4oCZVVJMIHB1YmxpcXVlIGTigJl1biBmaWNoaWVyIGRhbnMgbGUgYnVja2V0IGNvcnJlY3Rpb25zICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRDb3JyZWN0aW9uRmlsZVVybChmaWxlUGF0aDogc3RyaW5nLCBzdXBhYmFzZVVybDogc3RyaW5nKTogc3RyaW5nIHtcclxuICByZXR1cm4gYCR7c3VwYWJhc2VVcmx9L3N0b3JhZ2UvdjEvb2JqZWN0L3B1YmxpYy9jb3JyZWN0aW9ucy8ke2ZpbGVQYXRofWA7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkYkdldENvcnJlY3Rpb25zKGRiOiBEYiwgb3B0aW9ucz86IHsgY2xhc3NJZD86IHN0cmluZyB8IG51bGwgfSk6IFByb21pc2U8Q29ycmVjdGlvbkl0ZW1bXT4ge1xyXG4gIGxldCBxID0gZGIuZnJvbShcImNvcnJlY3Rpb25zXCIpLnNlbGVjdChcImlkLCB0aXRsZSwgY2xhc3NfaWQsIGZpbGVfcGF0aCwgZmlsZV9uYW1lLCB1cGxvYWRlZF9hdFwiKTtcclxuICBpZiAob3B0aW9ucz8uY2xhc3NJZCAhPT0gdW5kZWZpbmVkICYmIG9wdGlvbnMuY2xhc3NJZCAhPT0gbnVsbCkge1xyXG4gICAgcSA9IHEuZXEoXCJjbGFzc19pZFwiLCBvcHRpb25zLmNsYXNzSWQpO1xyXG4gIH1cclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBxLm9yZGVyKFwidXBsb2FkZWRfYXRcIiwgeyBhc2NlbmRpbmc6IGZhbHNlIH0pO1xyXG4gIGlmIChlcnJvcikgdGhyb3cgbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UpO1xyXG4gIGNvbnN0IHVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCA/PyBcIlwiO1xyXG4gIHJldHVybiAoZGF0YSA/PyBbXSkubWFwKChyKSA9PiAoe1xyXG4gICAgaWQ6IHIuaWQsXHJcbiAgICB0aXRsZTogci50aXRsZSxcclxuICAgIGNsYXNzSWQ6IHIuY2xhc3NfaWQsXHJcbiAgICBmaWxlVXJsOiBnZXRDb3JyZWN0aW9uRmlsZVVybChyLmZpbGVfcGF0aCwgdXJsKSxcclxuICAgIGZpbGVQYXRoOiByLmZpbGVfcGF0aCxcclxuICAgIGZpbGVOYW1lOiByLmZpbGVfbmFtZSxcclxuICAgIHVwbG9hZGVkQXQ6IHIudXBsb2FkZWRfYXQsXHJcbiAgfSkpO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGJBZGRDb3JyZWN0aW9uKFxyXG4gIGRiOiBEYixcclxuICBwYXlsb2FkOiB7IHRpdGxlOiBzdHJpbmc7IGNsYXNzSWQ6IHN0cmluZyB8IG51bGw7IGZpbGVQYXRoOiBzdHJpbmc7IGZpbGVOYW1lOiBzdHJpbmc7IHVwbG9hZGVkQnk6IHN0cmluZyB9XHJcbik6IFByb21pc2U8Q29ycmVjdGlvbkl0ZW0+IHtcclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBkYlxyXG4gICAgLmZyb20oXCJjb3JyZWN0aW9uc1wiKVxyXG4gICAgLmluc2VydCh7XHJcbiAgICAgIHRpdGxlOiBwYXlsb2FkLnRpdGxlLFxyXG4gICAgICBjbGFzc19pZDogcGF5bG9hZC5jbGFzc0lkLFxyXG4gICAgICBmaWxlX3BhdGg6IHBheWxvYWQuZmlsZVBhdGgsXHJcbiAgICAgIGZpbGVfbmFtZTogcGF5bG9hZC5maWxlTmFtZSxcclxuICAgICAgdXBsb2FkZWRfYnk6IHBheWxvYWQudXBsb2FkZWRCeSxcclxuICAgIH0pXHJcbiAgICAuc2VsZWN0KFwiaWQsIHRpdGxlLCBjbGFzc19pZCwgZmlsZV9wYXRoLCBmaWxlX25hbWUsIHVwbG9hZGVkX2F0XCIpXHJcbiAgICAuc2luZ2xlKCk7XHJcbiAgaWYgKGVycm9yKSB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSk7XHJcbiAgY29uc3QgYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCA/PyBcIlwiO1xyXG4gIHJldHVybiB7XHJcbiAgICBpZDogZGF0YS5pZCxcclxuICAgIHRpdGxlOiBkYXRhLnRpdGxlLFxyXG4gICAgY2xhc3NJZDogZGF0YS5jbGFzc19pZCxcclxuICAgIGZpbGVVcmw6IGdldENvcnJlY3Rpb25GaWxlVXJsKGRhdGEuZmlsZV9wYXRoLCBiYXNlVXJsKSxcclxuICAgIGZpbGVQYXRoOiBkYXRhLmZpbGVfcGF0aCxcclxuICAgIGZpbGVOYW1lOiBkYXRhLmZpbGVfbmFtZSxcclxuICAgIHVwbG9hZGVkQXQ6IGRhdGEudXBsb2FkZWRfYXQsXHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRiRGVsZXRlQ29ycmVjdGlvbihkYjogRGIsIGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBkYi5mcm9tKFwiY29ycmVjdGlvbnNcIikuZGVsZXRlKCkuZXEoXCJpZFwiLCBpZCk7XHJcbiAgaWYgKGVycm9yKSB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSk7XHJcbn1cclxuXHJcbi8qKiBTdXBwcmltZXIgbGUgZmljaGllciBkdSBidWNrZXQgU3RvcmFnZSAow6AgYXBwZWxlciBhdmFudCBkYkRlbGV0ZUNvcnJlY3Rpb24gc2kgYmVzb2luKSAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGJEZWxldGVDb3JyZWN0aW9uRmlsZShkYjogRGIsIGZpbGVQYXRoOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBkYi5zdG9yYWdlLmZyb20oXCJjb3JyZWN0aW9uc1wiKS5yZW1vdmUoW2ZpbGVQYXRoXSk7XHJcbiAgaWYgKGVycm9yKSB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSk7XHJcbn1cclxuXHJcbi8vIOKAlOKAlOKAlCBOb3RpZmljYXRpb25zICjDqWzDqHZlcykg4oCU4oCU4oCUXHJcblxyXG5leHBvcnQgdHlwZSBOb3RpZmljYXRpb25Sb3cgPSB7IGlkOiBzdHJpbmc7IHVzZXJfaWQ6IHN0cmluZzsgdGl0bGU6IHN0cmluZzsgbWVzc2FnZTogc3RyaW5nOyByZWFkOiBib29sZWFuOyBjcmVhdGVkX2F0OiBzdHJpbmcgfTtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkYkdldE5vdGlmaWNhdGlvbnMoZGI6IERiLCB1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8Tm90aWZpY2F0aW9uUm93W10+IHtcclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBkYlxyXG4gICAgLmZyb20oXCJub3RpZmljYXRpb25zXCIpXHJcbiAgICAuc2VsZWN0KFwiaWQsIHVzZXJfaWQsIHRpdGxlLCBtZXNzYWdlLCByZWFkLCBjcmVhdGVkX2F0XCIpXHJcbiAgICAuZXEoXCJ1c2VyX2lkXCIsIHVzZXJJZClcclxuICAgIC5vcmRlcihcImNyZWF0ZWRfYXRcIiwgeyBhc2NlbmRpbmc6IGZhbHNlIH0pO1xyXG4gIGlmIChlcnJvcikgdGhyb3cgbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UpO1xyXG4gIHJldHVybiBkYXRhID8/IFtdO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGJNYXJrTm90aWZpY2F0aW9uUmVhZChkYjogRGIsIGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBkYi5mcm9tKFwibm90aWZpY2F0aW9uc1wiKS51cGRhdGUoeyByZWFkOiB0cnVlIH0pLmVxKFwiaWRcIiwgaWQpO1xyXG4gIGlmIChlcnJvcikgdGhyb3cgbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UpO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGJNYXJrQWxsTm90aWZpY2F0aW9uc1JlYWQoZGI6IERiLCB1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IGRiLmZyb20oXCJub3RpZmljYXRpb25zXCIpLnVwZGF0ZSh7IHJlYWQ6IHRydWUgfSkuZXEoXCJ1c2VyX2lkXCIsIHVzZXJJZCk7XHJcbiAgaWYgKGVycm9yKSB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSk7XHJcbn1cclxuXHJcbi8qKiBDcsOpZXIgdW5lIG5vdGlmaWNhdGlvbiBwYXIgw6lsw6h2ZSBldCBwYXIgZXhhbWVuICh1bmUgcGFyIG5vdGUgZGlzcG9uaWJsZSwgcGFzIHVuIG1lc3NhZ2UgZ2xvYmFsKS4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRiQ3JlYXRlTm90aWZpY2F0aW9uc0ZvckNsYXNzKFxyXG4gIGRiOiBEYixcclxuICBjbGFzc0lkOiBzdHJpbmcsXHJcbiAgY2xhc3NOYW1lOiBzdHJpbmcsXHJcbiAgZXhhbU5hbWVzOiBzdHJpbmdbXVxyXG4pOiBQcm9taXNlPHZvaWQ+IHtcclxuICBpZiAoZXhhbU5hbWVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xyXG4gIGNvbnN0IHsgZGF0YTogbGlua3MsIGVycm9yOiBlMSB9ID0gYXdhaXQgZGJcclxuICAgIC5mcm9tKFwiY2xhc3Nfc3R1ZGVudHNcIilcclxuICAgIC5zZWxlY3QoXCJ1c2VyX2lkXCIpXHJcbiAgICAuZXEoXCJjbGFzc19pZFwiLCBjbGFzc0lkKTtcclxuICBpZiAoZTEpIHRocm93IG5ldyBFcnJvcihlMS5tZXNzYWdlKTtcclxuICBjb25zdCB1c2VySWRzID0gKGxpbmtzID8/IFtdKS5tYXAoKHIpID0+IHIudXNlcl9pZCk7XHJcbiAgaWYgKHVzZXJJZHMubGVuZ3RoID09PSAwKSByZXR1cm47XHJcbiAgY29uc3Qgcm93czogeyB1c2VyX2lkOiBzdHJpbmc7IHRpdGxlOiBzdHJpbmc7IG1lc3NhZ2U6IHN0cmluZyB9W10gPSBbXTtcclxuICBmb3IgKGNvbnN0IHVzZXJfaWQgb2YgdXNlcklkcykge1xyXG4gICAgZm9yIChjb25zdCBleGFtTmFtZSBvZiBleGFtTmFtZXMpIHtcclxuICAgICAgcm93cy5wdXNoKHtcclxuICAgICAgICB1c2VyX2lkLFxyXG4gICAgICAgIHRpdGxlOiBcIk5vdGUgZGlzcG9uaWJsZVwiLFxyXG4gICAgICAgIG1lc3NhZ2U6IGBWb3RyZSBub3RlIHBvdXIgJHtleGFtTmFtZX0gKGNsYXNzZSAke2NsYXNzTmFtZX0pIGVzdCBkaXNwb25pYmxlLmAsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICBjb25zdCB7IGVycm9yOiBlMiB9ID0gYXdhaXQgZGIuZnJvbShcIm5vdGlmaWNhdGlvbnNcIikuaW5zZXJ0KHJvd3MpO1xyXG4gIGlmIChlMikgdGhyb3cgbmV3IEVycm9yKGUyLm1lc3NhZ2UpO1xyXG59XHJcblxyXG4vLyDigJTigJTigJQgUHJvZmlscyAocG91ciBsaXN0ZSDDqWzDqHZlcywgYXV0aCwgZXRjLikg4oCU4oCU4oCUXHJcblxyXG5leHBvcnQgdHlwZSBQcm9maWxlUm93ID0geyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IGVtYWlsOiBzdHJpbmc7IHJvbGU6IHN0cmluZzsgbXVzdF9jaGFuZ2VfcGFzc3dvcmQ/OiBib29sZWFuIH07XHJcblxyXG5jb25zdCBQUk9GSUxFU19TRUxFQ1QgPSBcImlkLCBuYW1lLCBlbWFpbCwgcm9sZSwgbXVzdF9jaGFuZ2VfcGFzc3dvcmRcIjtcclxuY29uc3QgUFJPRklMRVNfU0VMRUNUX0xFR0FDWSA9IFwiaWQsIG5hbWUsIGVtYWlsLCByb2xlXCI7XHJcblxyXG5mdW5jdGlvbiBpc01pc3NpbmdDb2x1bW5FcnJvcihlcnI6IHsgbWVzc2FnZT86IHN0cmluZyB9KTogYm9vbGVhbiB7XHJcbiAgY29uc3QgbSA9IGVycj8ubWVzc2FnZSA/PyBcIlwiO1xyXG4gIHJldHVybiBtLmluY2x1ZGVzKFwibXVzdF9jaGFuZ2VfcGFzc3dvcmRcIikgfHwgKG0uaW5jbHVkZXMoXCJjb2x1bW5cIikgJiYgbS5pbmNsdWRlcyhcImRvZXMgbm90IGV4aXN0XCIpKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRiR2V0UHJvZmlsZXMoZGI6IERiLCByb2xlPzogXCJzdHVkZW50XCIgfCBcInRlYWNoZXJcIiB8IFwiYWRtaW5cIik6IFByb21pc2U8UHJvZmlsZVJvd1tdPiB7XHJcbiAgbGV0IHEgPSBkYi5mcm9tKFwicHJvZmlsZXNcIikuc2VsZWN0KFBST0ZJTEVTX1NFTEVDVCk7XHJcbiAgaWYgKHJvbGUpIHEgPSBxLmVxKFwicm9sZVwiLCByb2xlKTtcclxuICBsZXQgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgcS5vcmRlcihcIm5hbWVcIik7XHJcbiAgaWYgKGVycm9yICYmIGlzTWlzc2luZ0NvbHVtbkVycm9yKGVycm9yKSkge1xyXG4gICAgcSA9IGRiLmZyb20oXCJwcm9maWxlc1wiKS5zZWxlY3QoUFJPRklMRVNfU0VMRUNUX0xFR0FDWSk7XHJcbiAgICBpZiAocm9sZSkgcSA9IHEuZXEoXCJyb2xlXCIsIHJvbGUpO1xyXG4gICAgY29uc3QgZmFsbGJhY2sgPSBhd2FpdCBxLm9yZGVyKFwibmFtZVwiKTtcclxuICAgIGlmIChmYWxsYmFjay5lcnJvcikgdGhyb3cgbmV3IEVycm9yKGZhbGxiYWNrLmVycm9yLm1lc3NhZ2UpO1xyXG4gICAgcmV0dXJuIChmYWxsYmFjay5kYXRhID8/IFtdKS5tYXAoKHIpID0+ICh7IC4uLnIsIG11c3RfY2hhbmdlX3Bhc3N3b3JkOiBmYWxzZSB9KSk7XHJcbiAgfVxyXG4gIGlmIChlcnJvcikgdGhyb3cgbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UpO1xyXG4gIHJldHVybiAoZGF0YSA/PyBbXSkubWFwKChyKSA9PiAoeyAuLi5yLCBtdXN0X2NoYW5nZV9wYXNzd29yZDogKHIgYXMgUHJvZmlsZVJvdykubXVzdF9jaGFuZ2VfcGFzc3dvcmQgPz8gZmFsc2UgfSkpO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGJHZXRQcm9maWxlKGRiOiBEYiwgdXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPFByb2ZpbGVSb3cgfCBudWxsPiB7XHJcbiAgbGV0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IGRiLmZyb20oXCJwcm9maWxlc1wiKS5zZWxlY3QoUFJPRklMRVNfU0VMRUNUKS5lcShcImlkXCIsIHVzZXJJZCkuc2luZ2xlKCk7XHJcbiAgaWYgKGVycm9yICYmIGlzTWlzc2luZ0NvbHVtbkVycm9yKGVycm9yKSkge1xyXG4gICAgY29uc3QgZmFsbGJhY2sgPSBhd2FpdCBkYi5mcm9tKFwicHJvZmlsZXNcIikuc2VsZWN0KFBST0ZJTEVTX1NFTEVDVF9MRUdBQ1kpLmVxKFwiaWRcIiwgdXNlcklkKS5zaW5nbGUoKTtcclxuICAgIGlmIChmYWxsYmFjay5lcnJvciAmJiBmYWxsYmFjay5lcnJvci5jb2RlICE9PSBcIlBHUlNUMTE2XCIpIHRocm93IG5ldyBFcnJvcihmYWxsYmFjay5lcnJvci5tZXNzYWdlKTtcclxuICAgIGlmICghZmFsbGJhY2suZGF0YSkgcmV0dXJuIG51bGw7XHJcbiAgICByZXR1cm4geyAuLi5mYWxsYmFjay5kYXRhLCBtdXN0X2NoYW5nZV9wYXNzd29yZDogZmFsc2UgfTtcclxuICB9XHJcbiAgaWYgKGVycm9yICYmIGVycm9yLmNvZGUgIT09IFwiUEdSU1QxMTZcIikgdGhyb3cgbmV3IEVycm9yKGVycm9yLm1lc3NhZ2UpO1xyXG4gIGlmICghZGF0YSkgcmV0dXJuIG51bGw7XHJcbiAgcmV0dXJuIHsgLi4uZGF0YSwgbXVzdF9jaGFuZ2VfcGFzc3dvcmQ6IGRhdGEubXVzdF9jaGFuZ2VfcGFzc3dvcmQgPz8gZmFsc2UgfTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRiVXBzZXJ0UHJvZmlsZShcclxuICBkYjogRGIsXHJcbiAgcGF5bG9hZDogeyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IGVtYWlsOiBzdHJpbmc7IHJvbGU6IFwiYWRtaW5cIiB8IFwidGVhY2hlclwiIHwgXCJzdHVkZW50XCI7IG11c3RfY2hhbmdlX3Bhc3N3b3JkPzogYm9vbGVhbiB9XHJcbik6IFByb21pc2U8dm9pZD4ge1xyXG4gIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IGRiLmZyb20oXCJwcm9maWxlc1wiKS51cHNlcnQocGF5bG9hZCwgeyBvbkNvbmZsaWN0OiBcImlkXCIgfSk7XHJcbiAgaWYgKGVycm9yICYmIGlzTWlzc2luZ0NvbHVtbkVycm9yKGVycm9yKSkge1xyXG4gICAgY29uc3QgeyBpZCwgbmFtZSwgZW1haWwsIHJvbGUgfSA9IHBheWxvYWQ7XHJcbiAgICBjb25zdCB7IGVycm9yOiBlcnIyIH0gPSBhd2FpdCBkYi5mcm9tKFwicHJvZmlsZXNcIikudXBzZXJ0KHsgaWQsIG5hbWUsIGVtYWlsLCByb2xlIH0sIHsgb25Db25mbGljdDogXCJpZFwiIH0pO1xyXG4gICAgaWYgKGVycjIpIHRocm93IG5ldyBFcnJvcihlcnIyLm1lc3NhZ2UpO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuICBpZiAoZXJyb3IpIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlKTtcclxufVxyXG4iXSwibmFtZXMiOlsiZGJHZXRDbGFzc2VzIiwiZGIiLCJkYXRhIiwicm93cyIsImVycm9yIiwiZnJvbSIsInNlbGVjdCIsIm9yZGVyIiwiRXJyb3IiLCJtZXNzYWdlIiwiY2xhc3NSb3dzIiwibGVuZ3RoIiwiY2xhc3NJZHMiLCJtYXAiLCJyIiwiaWQiLCJsaW5rcyIsImxpbmtzRXJyb3IiLCJpbiIsInN0dWRlbnRJZHNCeUNsYXNzIiwiTWFwIiwic2V0IiwibCIsImxpc3QiLCJnZXQiLCJjbGFzc19pZCIsInB1c2giLCJ1c2VyX2lkIiwicm93IiwibmFtZSIsInN0dWRlbnRJZHMiLCJkYkFkZENsYXNzIiwiY3JlYXRlZEJ5IiwiaW5zZXJ0IiwiY3JlYXRlZF9ieSIsInNpbmdsZSIsImRiVXBkYXRlQ2xhc3MiLCJ1cGRhdGUiLCJlcSIsImRiRGVsZXRlQ2xhc3MiLCJkZWxldGUiLCJkYkdldENsYXNzU3R1ZGVudHMiLCJjbGFzc0lkIiwiaWRzIiwicHJvZmlsZXMiLCJlMiIsInAiLCJlbWFpbCIsImRiQWRkU3R1ZGVudFRvQ2xhc3MiLCJ1c2VySWQiLCJkYlJlbW92ZVN0dWRlbnRGcm9tQ2xhc3MiLCJyb3dUb0dyYWRlRW50cnkiLCJzdHVkZW50SWQiLCJzdHVkZW50X2lkIiwiZXhhbU5hbWUiLCJleGFtX25hbWUiLCJub3RlIiwiZGF0ZSIsImNvZWZmaWNpZW50IiwidW5kZWZpbmVkIiwiZGJHZXRHcmFkZXNGb3JDbGFzcyIsImRiR2V0R3JhZGVzRm9yU3R1ZGVudCIsImFzY2VuZGluZyIsImRiU2V0R3JhZGVzRm9yQ2xhc3MiLCJlbnRyaWVzIiwidG9JbnNlcnQiLCJlIiwidXBzZXJ0Iiwib25Db25mbGljdCIsImdldENvcnJlY3Rpb25GaWxlVXJsIiwiZmlsZVBhdGgiLCJzdXBhYmFzZVVybCIsImRiR2V0Q29ycmVjdGlvbnMiLCJvcHRpb25zIiwicSIsInVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJ0aXRsZSIsImZpbGVVcmwiLCJmaWxlX3BhdGgiLCJmaWxlTmFtZSIsImZpbGVfbmFtZSIsInVwbG9hZGVkQXQiLCJ1cGxvYWRlZF9hdCIsImRiQWRkQ29ycmVjdGlvbiIsInBheWxvYWQiLCJ1cGxvYWRlZF9ieSIsInVwbG9hZGVkQnkiLCJiYXNlVXJsIiwiZGJEZWxldGVDb3JyZWN0aW9uIiwiZGJEZWxldGVDb3JyZWN0aW9uRmlsZSIsInN0b3JhZ2UiLCJyZW1vdmUiLCJkYkdldE5vdGlmaWNhdGlvbnMiLCJkYk1hcmtOb3RpZmljYXRpb25SZWFkIiwicmVhZCIsImRiTWFya0FsbE5vdGlmaWNhdGlvbnNSZWFkIiwiZGJDcmVhdGVOb3RpZmljYXRpb25zRm9yQ2xhc3MiLCJjbGFzc05hbWUiLCJleGFtTmFtZXMiLCJlMSIsInVzZXJJZHMiLCJQUk9GSUxFU19TRUxFQ1QiLCJQUk9GSUxFU19TRUxFQ1RfTEVHQUNZIiwiaXNNaXNzaW5nQ29sdW1uRXJyb3IiLCJlcnIiLCJtIiwiaW5jbHVkZXMiLCJkYkdldFByb2ZpbGVzIiwicm9sZSIsImZhbGxiYWNrIiwibXVzdF9jaGFuZ2VfcGFzc3dvcmQiLCJkYkdldFByb2ZpbGUiLCJjb2RlIiwiZGJVcHNlcnRQcm9maWxlIiwiZXJyMiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./lib/supabase/server.ts":
/*!********************************!*\
  !*** ./lib/supabase/server.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createServerClient: () => (/* binding */ createServerClient),\n/* harmony export */   createServiceRoleClient: () => (/* binding */ createServiceRoleClient)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/index.mjs\");\n\nfunction createServerClient() {\n    const url = \"https://ycxwrlkqfoiokmogxlfd.supabase.co\";\n    const key = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY ?? \"sb_publishable_Ciw05QM2VyvN8U5gbrkJKA_GlJl-yA0\";\n    if (!url || !key) throw new Error(\"Missing Supabase env vars\");\n    return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(url, key);\n}\n/** Client avec clé service_role — à utiliser UNIQUEMENT côté serveur (API routes, etc.). Ne jamais exposer en client. */ function createServiceRoleClient() {\n    const url = \"https://ycxwrlkqfoiokmogxlfd.supabase.co\";\n    const key = process.env.SUPABASE_SERVICE_ROLE_KEY;\n    if (!url || !key) throw new Error(\"Missing NEXT_PUBLIC_SUPABASE_URL or SUPABASE_SERVICE_ROLE_KEY\");\n    return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(url, key, {\n        auth: {\n            autoRefreshToken: false,\n            persistSession: false\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc3VwYWJhc2Uvc2VydmVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2RTtBQUd0RSxTQUFTRTtJQUNkLE1BQU1DLE1BQU1DLDBDQUFvQztJQUNoRCxNQUFNRyxNQUFNSCxRQUFRQyxHQUFHLENBQUNHLDZCQUE2QixJQUFJSixnREFBd0Q7SUFDakgsSUFBSSxDQUFDRCxPQUFPLENBQUNJLEtBQUssTUFBTSxJQUFJRyxNQUFNO0lBQ2xDLE9BQU9ULG1FQUFvQkEsQ0FBV0UsS0FBS0k7QUFDN0M7QUFFQSx1SEFBdUgsR0FDaEgsU0FBU0k7SUFDZCxNQUFNUixNQUFNQywwQ0FBb0M7SUFDaEQsTUFBTUcsTUFBTUgsUUFBUUMsR0FBRyxDQUFDTyx5QkFBeUI7SUFDakQsSUFBSSxDQUFDVCxPQUFPLENBQUNJLEtBQUssTUFBTSxJQUFJRyxNQUFNO0lBQ2xDLE9BQU9ULG1FQUFvQkEsQ0FBV0UsS0FBS0ksS0FBSztRQUM5Q00sTUFBTTtZQUFFQyxrQkFBa0I7WUFBT0MsZ0JBQWdCO1FBQU07SUFDekQ7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxTUU1WMDI1N1xcc3Z0UHJvamVjdFxcbGliXFxzdXBhYmFzZVxcc2VydmVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNsaWVudCBhcyBjcmVhdGVTdXBhYmFzZUNsaWVudCB9IGZyb20gXCJAc3VwYWJhc2Uvc3VwYWJhc2UtanNcIjtcclxuaW1wb3J0IHR5cGUgeyBEYXRhYmFzZSB9IGZyb20gXCIuL3R5cGVzXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2VydmVyQ2xpZW50KCkge1xyXG4gIGNvbnN0IHVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTDtcclxuICBjb25zdCBrZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSA/PyBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9QVUJMSVNIQUJMRV9ERUZBVUxUX0tFWTtcclxuICBpZiAoIXVybCB8fCAha2V5KSB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIFN1cGFiYXNlIGVudiB2YXJzXCIpO1xyXG4gIHJldHVybiBjcmVhdGVTdXBhYmFzZUNsaWVudDxEYXRhYmFzZT4odXJsLCBrZXkpO1xyXG59XHJcblxyXG4vKiogQ2xpZW50IGF2ZWMgY2zDqSBzZXJ2aWNlX3JvbGUg4oCUIMOgIHV0aWxpc2VyIFVOSVFVRU1FTlQgY8O0dMOpIHNlcnZldXIgKEFQSSByb3V0ZXMsIGV0Yy4pLiBOZSBqYW1haXMgZXhwb3NlciBlbiBjbGllbnQuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTZXJ2aWNlUm9sZUNsaWVudCgpIHtcclxuICBjb25zdCB1cmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkw7XHJcbiAgY29uc3Qga2V5ID0gcHJvY2Vzcy5lbnYuU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWTtcclxuICBpZiAoIXVybCB8fCAha2V5KSB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIE5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCBvciBTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZXCIpO1xyXG4gIHJldHVybiBjcmVhdGVTdXBhYmFzZUNsaWVudDxEYXRhYmFzZT4odXJsLCBrZXksIHtcclxuICAgIGF1dGg6IHsgYXV0b1JlZnJlc2hUb2tlbjogZmFsc2UsIHBlcnNpc3RTZXNzaW9uOiBmYWxzZSB9LFxyXG4gIH0pO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnQiLCJjcmVhdGVTdXBhYmFzZUNsaWVudCIsImNyZWF0ZVNlcnZlckNsaWVudCIsInVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJrZXkiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1BVQkxJU0hBQkxFX0RFRkFVTFRfS0VZIiwiRXJyb3IiLCJjcmVhdGVTZXJ2aWNlUm9sZUNsaWVudCIsIlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkiLCJhdXRoIiwiYXV0b1JlZnJlc2hUb2tlbiIsInBlcnNpc3RTZXNzaW9uIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/supabase/server.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tslib","vendor-chunks/iceberg-js"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fnotifications%2Fcreate-for-class%2Froute&page=%2Fapi%2Fnotifications%2Fcreate-for-class%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnotifications%2Fcreate-for-class%2Froute.ts&appDir=C%3A%5CUsers%5CSQMV0257%5CsvtProject%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CSQMV0257%5CsvtProject&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();