(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{9211:(e,r,t)=>{Promise.resolve().then(t.bind(t,42716))},42716:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>b});var a=t(95155),s=t(12115),l=t(76046),i=t(27065),n=t(67401);let o=(0,n.A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);var d=t(48686);let u=(0,n.A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),c=(0,n.A)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);var p=t(30814),x=t(6888),f=t(77139),m=t(63259),v=t(14085),h=t(9955),y=t(15785);function b(){let e=(0,l.useRouter)(),{login:r,isLoggedIn:t}=(0,x.A)(),[n,b]=s.useState(""),[g,j]=s.useState(""),[w,k]=s.useState(""),[N,_]=s.useState(!1);s.useEffect(()=>{t&&e.replace("/dashboard")},[t,e]);let C=async t=>{t.preventDefault(),k(""),_(!0);try{let t=(0,m.A)();if(t){let{data:r,error:a}=await t.auth.signInWithPassword({email:n.trim(),password:g.trim()});if(a){let e="Invalid login credentials"===a.message?"Email ou mot de passe incorrect.":a.message;k(e),p.o.error(e),_(!1);return}if(r.session){e.push("/dashboard");return}}let a=(0,f.QF)(n,g);if(!a){k("Email ou mot de passe incorrect."),_(!1);return}r(a.id),e.push("/dashboard")}catch(r){let e="Une erreur est survenue.";k(e),p.o.error(e)}finally{_(!1)}};return(0,a.jsxs)("div",{className:"relative flex min-h-screen flex-col items-center justify-center overflow-hidden px-4",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-[var(--background)]"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_50%_-20%,var(--primary)_0%,transparent_50%)]"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_60%_40%_at_80%_50%,rgba(16,185,129,0.08)_0%,transparent_50%)]"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_40%_60%_at_20%_80%,rgba(16,185,129,0.06)_0%,transparent_50%)]"}),(0,a.jsx)("div",{className:"absolute left-1/2 top-1/4 h-[400px] w-[600px] -translate-x-1/2 rounded-full bg-[var(--primary)]/10 blur-[120px]"}),(0,a.jsx)("div",{className:"absolute inset-0 opacity-[0.14]","aria-hidden":!0,children:(0,a.jsxs)("svg",{className:"absolute left-0 top-0 h-full w-full",viewBox:"0 0 120 240",preserveAspectRatio:"xMidYMid slice",fill:"none",children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("pattern",{id:"dna-helix",x:"0",y:"0",width:"60",height:"120",patternUnits:"userSpaceOnUse",children:[(0,a.jsx)("path",{d:"M 8 0 Q 22 30 8 60 Q -6 90 8 120",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),(0,a.jsx)("path",{d:"M 52 0 Q 38 30 52 60 Q 66 90 52 120",stroke:"currentColor",strokeWidth:"1.2",fill:"none"}),(0,a.jsx)("line",{x1:"8",y1:"15",x2:"52",y2:"15",stroke:"currentColor",strokeWidth:"0.6",opacity:"0.9"}),(0,a.jsx)("line",{x1:"14",y1:"30",x2:"46",y2:"30",stroke:"currentColor",strokeWidth:"0.6",opacity:"0.9"}),(0,a.jsx)("line",{x1:"8",y1:"45",x2:"52",y2:"45",stroke:"currentColor",strokeWidth:"0.6",opacity:"0.9"}),(0,a.jsx)("line",{x1:"14",y1:"60",x2:"46",y2:"60",stroke:"currentColor",strokeWidth:"0.6",opacity:"0.9"}),(0,a.jsx)("line",{x1:"8",y1:"75",x2:"52",y2:"75",stroke:"currentColor",strokeWidth:"0.6",opacity:"0.9"}),(0,a.jsx)("line",{x1:"14",y1:"90",x2:"46",y2:"90",stroke:"currentColor",strokeWidth:"0.6",opacity:"0.9"}),(0,a.jsx)("line",{x1:"8",y1:"105",x2:"52",y2:"105",stroke:"currentColor",strokeWidth:"0.6",opacity:"0.9"})]})}),(0,a.jsx)("rect",{width:"100%",height:"100%",fill:"url(#dna-helix)",className:"text-[var(--primary)]"})]})}),(0,a.jsx)("div",{className:"absolute inset-0 opacity-[0.08]","aria-hidden":!0,children:(0,a.jsxs)("svg",{className:"absolute left-0 top-0 h-full w-full",viewBox:"0 0 120 240",preserveAspectRatio:"xMidYMid slice",fill:"none",children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("pattern",{id:"dna-helix-2",x:"30",y:"0",width:"60",height:"120",patternUnits:"userSpaceOnUse",children:[(0,a.jsx)("path",{d:"M 38 0 Q 52 30 38 60 Q 24 90 38 120",stroke:"currentColor",strokeWidth:"1",fill:"none"}),(0,a.jsx)("path",{d:"M 82 0 Q 68 30 82 60 Q 96 90 82 120",stroke:"currentColor",strokeWidth:"1",fill:"none"}),(0,a.jsx)("line",{x1:"38",y1:"30",x2:"82",y2:"30",stroke:"currentColor",strokeWidth:"0.5",opacity:"0.8"}),(0,a.jsx)("line",{x1:"44",y1:"60",x2:"76",y2:"60",stroke:"currentColor",strokeWidth:"0.5",opacity:"0.8"}),(0,a.jsx)("line",{x1:"38",y1:"90",x2:"82",y2:"90",stroke:"currentColor",strokeWidth:"0.5",opacity:"0.8"})]})}),(0,a.jsx)("rect",{width:"100%",height:"100%",fill:"url(#dna-helix-2)",className:"text-[var(--primary)]"})]})}),(0,a.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 h-1/2 opacity-[0.06]","aria-hidden":!0,children:[(0,a.jsx)("div",{className:"absolute bottom-20 left-[10%] h-32 w-32 rounded-full bg-[var(--primary)] blur-2xl"}),(0,a.jsx)("div",{className:"absolute bottom-40 right-[15%] h-24 w-24 rounded-full bg-[var(--primary)] blur-2xl"}),(0,a.jsx)("div",{className:"absolute bottom-10 right-[40%] h-20 w-20 rounded-full bg-[var(--primary)] blur-2xl"})]}),(0,a.jsxs)("div",{className:"relative z-10 w-full max-w-[420px]",children:[(0,a.jsxs)("div",{className:"mb-10 flex flex-col items-center gap-4 text-center",children:[(0,a.jsx)("div",{className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-[var(--primary)] text-[var(--primary-foreground)] shadow-[0_0_40px_rgba(16,185,129,0.35)] transition-transform hover:scale-105",children:(0,a.jsx)(i.A,{className:"h-9 w-9"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"font-display text-3xl font-bold tracking-tight text-[var(--foreground)]",children:"SVT Notes"}),(0,a.jsx)("p",{className:"mt-2 text-[var(--muted-foreground)]",children:"Connectez-vous pour acc\xe9der \xe0 la plateforme"})]})]}),(0,a.jsxs)("div",{className:"rounded-3xl border border-[var(--border)]/80 bg-[var(--card)]/80 p-8 shadow-2xl backdrop-blur-xl",children:[(0,a.jsxs)("form",{onSubmit:C,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y.J,{htmlFor:"email",className:"text-[var(--foreground)]",children:"Email"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(o,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-[var(--muted-foreground)]"}),(0,a.jsx)(h.p,{id:"email",type:"email",placeholder:"vous@svt-lycee.fr",value:n,onChange:e=>b(e.target.value),className:"h-12 rounded-xl border-[var(--border)] bg-[var(--background)]/50 pl-10 focus-visible:ring-2 focus-visible:ring-[var(--primary)]",required:!0,autoComplete:"email","aria-describedby":w?"login-error":void 0,"aria-invalid":!!w})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y.J,{htmlFor:"password",className:"text-[var(--foreground)]",children:"Mot de passe"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(d.A,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-[var(--muted-foreground)]"}),(0,a.jsx)(h.p,{id:"password",type:"password",placeholder:"••••••••",value:g,onChange:e=>j(e.target.value),className:"h-12 rounded-xl border-[var(--border)] bg-[var(--background)]/50 pl-10 focus-visible:ring-2 focus-visible:ring-[var(--primary)]",required:!0,autoComplete:"current-password","aria-describedby":w?"login-error":void 0,"aria-invalid":!!w})]})]}),w&&(0,a.jsxs)("div",{id:"login-error",role:"alert",className:"flex items-center gap-2 rounded-xl bg-red-500/10 px-4 py-3 text-sm text-red-500",children:[(0,a.jsx)(u,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),w]}),(0,a.jsx)(v.$,{type:"submit",disabled:N,className:"h-12 w-full rounded-xl bg-[var(--primary)] text-[var(--primary-foreground)] font-medium shadow-lg shadow-[var(--primary)]/25 transition hover:opacity-95",children:N?(0,a.jsx)("span",{className:"animate-pulse",children:"Connexion…"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c,{className:"h-4 w-4"}),"Se connecter"]})})]}),(0,a.jsxs)("p",{className:"mt-6 text-center text-xs text-[var(--muted-foreground)]",children:["D\xe9mo : mot de passe par d\xe9faut ",(0,a.jsx)("kbd",{className:"rounded bg-[var(--muted)] px-1.5 py-0.5 font-mono",children:"demo"})," (enseignant/admin) ou ",(0,a.jsx)("kbd",{className:"rounded bg-[var(--muted)] px-1.5 py-0.5 font-mono",children:"eleve123"})," (\xe9l\xe8ves)."]})]})]})]})}},14085:(e,r,t)=>{"use strict";t.d(r,{$:()=>d});var a=t(95155),s=t(12115),l=t(12317),i=t(31027),n=t(29602);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--primary)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--background)] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-[var(--primary)] text-[var(--primary-foreground)] shadow-sm hover:opacity-90",destructive:"bg-red-600 text-white shadow-sm hover:bg-red-700",outline:"border border-[var(--border)] bg-transparent hover:bg-[var(--muted)]",secondary:"bg-[var(--muted)] text-[var(--foreground)] hover:opacity-90",ghost:"hover:bg-[var(--muted)]",link:"text-[var(--primary)] underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,r)=>{let{className:t,variant:s,size:i,asChild:d=!1,...u}=e,c=d?l.DX:"button";return(0,a.jsx)(c,{className:(0,n.cn)(o({variant:s,size:i,className:t})),ref:r,...u})});d.displayName="Button"},9955:(e,r,t)=>{"use strict";t.d(r,{p:()=>i});var a=t(95155),s=t(12115),l=t(29602);let i=s.forwardRef((e,r)=>{let{className:t,type:s,...i}=e;return(0,a.jsx)("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-lg border border-[var(--border)] bg-[var(--background)] px-3 py-2 text-sm text-[var(--foreground)] placeholder:text-[var(--muted-foreground)] focus:outline-none focus:ring-2 focus:ring-[var(--primary)] disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...i})});i.displayName="Input"},15785:(e,r,t)=>{"use strict";t.d(r,{J:()=>n});var a=t(95155),s=t(12115),l=t(24352),i=t(29602);let n=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(l.b,{ref:r,className:(0,i.cn)("text-sm font-medium leading-none text-[var(--foreground)] peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...s})});n.displayName=l.b.displayName},29602:(e,r,t)=>{"use strict";t.d(r,{cn:()=>l});var a=t(43463),s=t(69795);function l(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.QP)((0,a.$)(r))}},27065:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(67401).A)("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]])},48686:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(67401).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},76046:(e,r,t)=>{"use strict";var a=t(66658);t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}})},88068:(e,r,t)=>{"use strict";t.d(r,{s:()=>i,t:()=>l});var a=t(12115);function s(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}function l(...e){return r=>{let t=!1,a=e.map(e=>{let a=s(e,r);return t||"function"!=typeof a||(t=!0),a});if(t)return()=>{for(let r=0;r<a.length;r++){let t=a[r];"function"==typeof t?t():s(e[r],null)}}}}function i(...e){return a.useCallback(l(...e),e)}},24352:(e,r,t)=>{"use strict";t.d(r,{b:()=>o});var a=t(12115);t(47650);var s=t(12317),l=t(95155),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let t=(0,s.TL)(`Primitive.${r}`),i=a.forwardRef((e,a)=>{let{asChild:s,...i}=e,n=s?t:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(n,{...i,ref:a})});return i.displayName=`Primitive.${r}`,{...e,[r]:i}},{}),n=a.forwardRef((e,r)=>(0,l.jsx)(i.label,{...e,ref:r,onMouseDown:r=>{var t;r.target.closest("button, input, select, textarea")||(null===(t=e.onMouseDown)||void 0===t||t.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));n.displayName="Label";var o=n},12317:(e,r,t)=>{"use strict";t.d(r,{DX:()=>c,TL:()=>u});var a,s=t(12115),l=t(88068),i=t(95155),n=Symbol.for("react.lazy"),o=(a||(a=t.t(s,2)))[" use ".trim().toString()];function d(e){var r;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===n&&"_payload"in e&&"object"==typeof(r=e._payload)&&null!==r&&"then"in r}function u(e){let r=function(e){let r=s.forwardRef((e,r)=>{let{children:t,...a}=e;if(d(t)&&"function"==typeof o&&(t=o(t._payload)),s.isValidElement(t)){var i;let e,n;let o=(i=t,(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?i.ref:(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?i.props.ref:i.props.ref||i.ref),d=function(e,r){let t={...r};for(let a in r){let s=e[a],l=r[a];/^on[A-Z]/.test(a)?s&&l?t[a]=(...e)=>{let r=l(...e);return s(...e),r}:s&&(t[a]=s):"style"===a?t[a]={...s,...l}:"className"===a&&(t[a]=[s,l].filter(Boolean).join(" "))}return{...e,...t}}(a,t.props);return t.type!==s.Fragment&&(d.ref=r?(0,l.t)(r,o):o),s.cloneElement(t,d)}return s.Children.count(t)>1?s.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}(e),t=s.forwardRef((e,t)=>{let{children:a,...l}=e;d(a)&&"function"==typeof o&&(a=o(a._payload));let n=s.Children.toArray(a),u=n.find(x);if(u){let e=u.props.children,a=n.map(r=>r!==u?r:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,i.jsx)(r,{...l,ref:t,children:s.isValidElement(e)?s.cloneElement(e,void 0,a):null})}return(0,i.jsx)(r,{...l,ref:t,children:a})});return t.displayName=`${e}.Slot`,t}var c=u("Slot"),p=Symbol("radix.slottable");function x(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===p}},31027:(e,r,t)=>{"use strict";t.d(r,{F:()=>i});var a=t(43463);let s=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,l=a.$,i=(e,r)=>t=>{var a;if((null==r?void 0:r.variants)==null)return l(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:i,defaultVariants:n}=r,o=Object.keys(i).map(e=>{let r=null==t?void 0:t[e],a=null==n?void 0:n[e];if(null===r)return null;let l=s(r)||s(a);return i[e][l]}),d=t&&Object.entries(t).reduce((e,r)=>{let[t,a]=r;return void 0===a||(e[t]=a),e},{});return l(e,o,null==r?void 0:null===(a=r.compoundVariants)||void 0===a?void 0:a.reduce((e,r)=>{let{class:t,className:a,...s}=r;return Object.entries(s).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...n,...d}[r]):({...n,...d})[r]===t})?[...e,t,a]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)}}},e=>{var r=r=>e(e.s=r);e.O(0,[352,525,814,888,441,517,358],()=>r(9211)),_N_E=e.O()}]);