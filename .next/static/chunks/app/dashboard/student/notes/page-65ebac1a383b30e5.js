(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[667],{11426:(e,r,t)=>{Promise.resolve().then(t.bind(t,63057))},63057:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>k});var s=t(95155),a=t(12115),n=t(86878),l=t(2746),d=t(59676),o=t(14081),c=t(28701),i=t(58581),m=t(19117),x=t(15255),u=t(43322),h=t(12800),f=t(66963),g=t(27112),p=t(14969),b=t(95346),j=t(6888),v=t(35007),N=t(29602);function y(e){return e>=10?"text-emerald-500":e>=8?"text-amber-500":"text-red-500"}function w(e){return e>=10?"bg-emerald-500/15 border-emerald-500/40":e>=8?"bg-amber-500/15 border-amber-500/40":"bg-red-500/15 border-red-500/40"}function k(){let{user:e}=(0,j.A)(),[r,t]=a.useState(()=>(0,b.XP)(e.id));a.useEffect(()=>{t((0,b.XP)(e.id))},[e.id]);let k=a.useMemo(()=>r.map(e=>({name:e.examName,note:e.note,date:new Date(e.date).toLocaleDateString("fr-FR",{day:"numeric",month:"short"})})),[r]),R=r.length>=3,Z=R&&r.length>0?r.reduce((e,r)=>e+r.note,0)/r.length:null,B=r.length>0?Math.max(...r.map(e=>e.note)):null,S=r.length>0?Math.min(...r.map(e=>e.note)):null;return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"font-display text-2xl font-semibold tracking-tight",children:"Mes notes"}),(0,s.jsx)("p",{className:"text-[var(--muted-foreground)]",children:"Vue d’ensemble et \xe9volution de vos notes."})]}),r.length>0&&(0,s.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[R&&(0,s.jsxs)(v.Zp,{className:(0,N.cn)("overflow-hidden border-2 transition-shadow hover:shadow-lg",null!==Z&&Z>=10?"border-emerald-500/40 bg-emerald-500/5":null!==Z&&Z>=8?"border-amber-500/40 bg-amber-500/5":"border-[var(--border)] bg-[var(--card)]"),children:[(0,s.jsx)(v.aR,{className:"flex flex-row items-center justify-between pb-2",children:(0,s.jsxs)(v.ZB,{className:"flex items-center gap-2 text-sm font-medium",children:[(0,s.jsx)(n.A,{className:"h-4 w-4"}),"Moyenne"]})}),(0,s.jsxs)(v.Wu,{children:[(0,s.jsxs)("p",{className:(0,N.cn)("text-3xl font-bold tabular-nums",null!==Z&&y(Z)),children:[null!==Z?Z.toFixed(1):"—"," ",(0,s.jsx)("span",{className:"text-lg font-normal text-[var(--muted-foreground)]",children:"/ 20"})]}),(0,s.jsxs)("p",{className:"mt-1 text-xs text-[var(--muted-foreground)]",children:[r.length," note",r.length>1?"s":""]})]})]}),!R&&r.length>0&&(0,s.jsxs)(v.Zp,{className:"border-dashed border-[var(--border)] bg-[var(--muted)]/10",children:[(0,s.jsx)(v.aR,{className:"flex flex-row items-center justify-between pb-2",children:(0,s.jsxs)(v.ZB,{className:"flex items-center gap-2 text-sm font-medium text-[var(--muted-foreground)]",children:[(0,s.jsx)(n.A,{className:"h-4 w-4"}),"Moyenne"]})}),(0,s.jsxs)(v.Wu,{children:[(0,s.jsxs)("p",{className:"text-sm text-[var(--muted-foreground)]",children:["La moyenne s’affichera lorsque vous aurez au moins ",3," notes."]}),(0,s.jsxs)("p",{className:"mt-1 text-xs text-[var(--muted-foreground)]",children:[r.length," note",r.length>1?"s":""," pour l’instant"]})]})]}),(0,s.jsxs)(v.Zp,{className:"border-[var(--border)] bg-[var(--card)]",children:[(0,s.jsx)(v.aR,{className:"flex flex-row items-center justify-between pb-2",children:(0,s.jsxs)(v.ZB,{className:"flex items-center gap-2 text-sm font-medium",children:[(0,s.jsx)(l.A,{className:"h-4 w-4 text-emerald-500"}),"Meilleure note"]})}),(0,s.jsxs)(v.Wu,{children:[(0,s.jsx)("p",{className:"text-3xl font-bold text-emerald-500 tabular-nums",children:null!==B?B.toFixed(1):"—"}),(0,s.jsx)("p",{className:"mt-1 text-xs text-[var(--muted-foreground)]",children:"/ 20"})]})]}),(0,s.jsxs)(v.Zp,{className:"border-[var(--border)] bg-[var(--card)]",children:[(0,s.jsx)(v.aR,{className:"flex flex-row items-center justify-between pb-2",children:(0,s.jsxs)(v.ZB,{className:"flex items-center gap-2 text-sm font-medium",children:[(0,s.jsx)(d.A,{className:"h-4 w-4 text-[var(--muted-foreground)]"}),"\xc0 am\xe9liorer"]})}),(0,s.jsxs)(v.Wu,{children:[(0,s.jsx)("p",{className:(0,N.cn)("text-3xl font-bold tabular-nums",null!==S&&S<10?"text-red-500":"text-[var(--foreground)]"),children:null!==S?S.toFixed(1):"—"}),(0,s.jsx)("p",{className:"mt-1 text-xs text-[var(--muted-foreground)]",children:"/ 20"})]})]}),(0,s.jsxs)(v.Zp,{className:"border-[var(--border)] bg-[var(--card)]",children:[(0,s.jsx)(v.aR,{className:"flex flex-row items-center justify-between pb-2",children:(0,s.jsx)(v.ZB,{className:"text-sm font-medium",children:"\xc9valuations"})}),(0,s.jsxs)(v.Wu,{children:[(0,s.jsx)("p",{className:"text-3xl font-bold text-[var(--foreground)] tabular-nums",children:r.length}),(0,s.jsx)("p",{className:"mt-1 text-xs text-[var(--muted-foreground)]",children:"au total"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"mb-2 flex items-center gap-2 font-display text-lg font-semibold",children:[(0,s.jsx)(o.A,{className:"h-5 w-5 text-[var(--primary)]"}),"Notes par contr\xf4le"]}),(0,s.jsx)("p",{className:"mb-4 text-sm text-[var(--muted-foreground)]",children:"Seuls les contr\xf4les pour lesquels l’enseignant a saisi une note sont affich\xe9s."}),(0,s.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:r.map((e,r)=>(0,s.jsxs)(v.Zp,{className:(0,N.cn)("overflow-hidden border-2 transition-all hover:shadow-md",w(e.note)),children:[(0,s.jsxs)(v.aR,{className:"flex flex-row items-start justify-between pb-1",children:[(0,s.jsx)(v.ZB,{className:"text-sm font-medium text-[var(--foreground)]",children:e.examName}),(0,s.jsx)("span",{className:(0,N.cn)("rounded-lg px-2.5 py-1 text-xl font-bold tabular-nums",y(e.note)),children:e.note.toFixed(1)})]}),(0,s.jsx)(v.Wu,{className:"pt-0",children:(0,s.jsx)("p",{className:"text-xs text-[var(--muted-foreground)]",children:new Date(e.date).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})})})]},"".concat(e.examName,"-").concat(e.date,"-").concat(r)))})]}),r.length>0&&(0,s.jsxs)(v.Zp,{className:"border-[var(--border)] bg-[var(--card)]",children:[(0,s.jsxs)(v.aR,{children:[(0,s.jsxs)(v.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(c.A,{className:"h-5 w-5"}),"R\xe9capitulatif"]}),(0,s.jsx)(v.BT,{children:"Une ligne par contr\xf4le not\xe9 par l’enseignant. Les contr\xf4les sans note ne figurent pas."})]}),(0,s.jsx)(v.Wu,{className:"p-0",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-[var(--border)] bg-[var(--muted)]/30",children:[(0,s.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-[var(--foreground)]",children:"\xc9valuation"}),(0,s.jsx)("th",{className:"px-4 py-3 text-right text-sm font-semibold text-[var(--foreground)]",children:"Note"}),(0,s.jsx)("th",{className:"px-4 py-3 text-right text-sm font-semibold text-[var(--muted-foreground)]",children:"Date"})]})}),(0,s.jsx)("tbody",{children:r.map((e,r)=>(0,s.jsxs)("tr",{className:"border-b border-[var(--border)]/70 hover:bg-[var(--muted)]/20",children:[(0,s.jsx)("td",{className:"px-4 py-3 font-medium",children:e.examName}),(0,s.jsx)("td",{className:"px-4 py-3 text-right",children:(0,s.jsxs)("span",{className:(0,N.cn)("inline-flex rounded-lg px-2.5 py-1 font-semibold tabular-nums",w(e.note),y(e.note)),children:[e.note.toFixed(1)," / 20"]})}),(0,s.jsx)("td",{className:"px-4 py-3 text-right text-sm text-[var(--muted-foreground)]",children:new Date(e.date).toLocaleDateString("fr-FR")})]},"".concat(e.examName,"-").concat(e.date,"-").concat(r)))})]})})})]}),(0,s.jsxs)(v.Zp,{className:"border-[var(--border)] bg-[var(--card)]",children:[(0,s.jsxs)(v.aR,{children:[(0,s.jsx)(v.ZB,{children:"Progression"}),(0,s.jsx)(v.BT,{children:"Uniquement les \xe9valuations pour lesquelles vous avez une note."})]}),(0,s.jsx)(v.Wu,{children:k.length>0?(0,s.jsx)("div",{className:"h-[320px] w-full",children:(0,s.jsx)(i.u,{width:"100%",height:"100%",children:(0,s.jsxs)(m.E,{data:k,margin:{top:12,right:12,left:0,bottom:8},children:[(0,s.jsx)(x.d,{strokeDasharray:"3 3",stroke:"var(--border)",vertical:!1}),(0,s.jsx)(u.e,{y:10,stroke:"var(--muted-foreground)",strokeDasharray:"4 4",strokeWidth:1.5}),(0,s.jsx)(h.W,{dataKey:"name",tick:{fill:"var(--muted-foreground)",fontSize:12},tickLine:{stroke:"var(--border)"},axisLine:{stroke:"var(--border)"}}),(0,s.jsx)(f.h,{domain:[0,20],tick:{fill:"var(--muted-foreground)",fontSize:12},tickLine:{stroke:"var(--border)"},axisLine:{stroke:"var(--border)"},width:28}),(0,s.jsx)(g.m,{contentStyle:{backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},labelStyle:{color:"var(--foreground)",fontWeight:600},formatter:e=>["".concat(e.toFixed(1)," / 20"),"Note"],labelFormatter:(e,r)=>r[0]?"".concat(r[0].payload.name," — ").concat(r[0].payload.date):""}),(0,s.jsx)(p.y,{dataKey:"note",fill:"var(--primary)",radius:[6,6,0,0],name:"Note",maxBarSize:48})]})})}):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,s.jsx)(o.A,{className:"h-12 w-12 text-[var(--muted-foreground)]"}),(0,s.jsx)("p",{className:"mt-4 text-[var(--muted-foreground)]",children:"Aucune note pour l’instant."})]})})]}),0===r.length&&(0,s.jsx)(v.Zp,{className:"border-dashed border-[var(--border)] bg-[var(--muted)]/10",children:(0,s.jsxs)(v.Wu,{className:"flex flex-col items-center justify-center py-16",children:[(0,s.jsx)(o.A,{className:"h-14 w-14 text-[var(--muted-foreground)]"}),(0,s.jsx)("p",{className:"mt-4 font-medium text-[var(--foreground)]",children:"Aucune note enregistr\xe9e"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-[var(--muted-foreground)]",children:"Vos notes appara\xeetront ici une fois saisies par votre enseignant."})]})})]})}},35007:(e,r,t)=>{"use strict";t.d(r,{BT:()=>c,Wu:()=>i,ZB:()=>o,Zp:()=>l,aR:()=>d});var s=t(95155),a=t(12115),n=t(29602);let l=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("rounded-2xl border border-[var(--border)] bg-[var(--card)] text-[var(--card-foreground)] shadow-lg shadow-black/5 transition-all duration-300",t),...a})});l.displayName="Card";let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...a})});d.displayName="CardHeader";let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("h3",{ref:r,className:(0,n.cn)("font-display text-xl font-semibold leading-none tracking-tight",t),...a})});o.displayName="CardTitle";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("p",{ref:r,className:(0,n.cn)("text-sm text-[var(--muted-foreground)]",t),...a})});c.displayName="CardDescription";let i=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",t),...a})});i.displayName="CardContent",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter"},95346:(e,r,t)=>{"use strict";t.d(r,{Os:()=>l,XP:()=>n,lw:()=>a});function s(e,r){try{let t=localStorage.getItem(e);if(!t)return r;return JSON.parse(t)}catch(e){return r}}function a(){return s("svt-classes",[])}function n(e){let r=s("svt-grades",{}),t=[];for(let s of Object.values(r))for(let r of s)r.studentId===e&&t.push(r);return t.sort((e,r)=>new Date(r.date).getTime()-new Date(e.date).getTime())}function l(){return s("svt-corrections",[])}},29602:(e,r,t)=>{"use strict";t.d(r,{cn:()=>n});var s=t(43463),a=t(69795);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.QP)((0,s.$)(r))}}},e=>{var r=r=>e(e.s=r);e.O(0,[352,525,184,888,441,517,358],()=>r(11426)),_N_E=e.O()}]);